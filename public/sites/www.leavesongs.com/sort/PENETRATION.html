

<html class="no-js">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="keywords" content="" />
    <meta name="description" content="phith0n的小站，长期存在与分享关于网络安全与各种编程的原创文章。" />
    <title>文章列表 | 离别歌</title>
    <link rel="alternate" type="application/atom+xml" href="../feed/index.rss" title="离别歌" />
    <link href="../static/deep/css/base.css" rel="stylesheet" type="text/css" />
    <link href="../static/deep/css/style.css" rel="stylesheet" type="text/css" />
    <link rel="shortcut icon" href="../static/deep/images/favicon.ico" />
    
</head>
<body>
<!--[if lt IE 8]>
    <div class="browsehappy" role="dialog">当前网页 <strong>不支持</strong> 你正在使用的浏览器. 为了正常的访问, 请 <a href="http://browsehappy.com/">升级你的浏览器</a>.</div>
<![endif]-->
<div id="header">
    <div class="container">
        <h1 class="h1-title">
            <a href="../index.html">
               <img src="../static/deep/images/logo.png" alt="离别歌" />
            </a>
        </h1>
        <div id="nav">
        <input type="checkbox" id="button">
        <label for="button" onclick>菜单</label>
        
        <ul>
            
            <li class="item ">
                <a href="../index.html" >首页</a>
            </li>
            
            <li class="item ">
                <a href="../list/index.html" >文章</a>
            </li>
            
            <li class="item ">
                <a href="../other/tinger.html" >关于</a>
            </li>
            
            <li class="item ">
                <a href="../other/friends-link.html" >友链</a>
            </li>
            
            <li class="item ">
                <a href="https://github.com/phith0n" target="_blank" >项目</a>
            </li>
            
            <li class="item ">
                <a href="https://www.leavesongs.com/PENETRATION/code-auditor-secret-group.html" target="_blank" >代码审计</a>
            </li>
            
        </ul>
        
        </div>
    </div>
</div>

<div class="banner-bar">
    <div class="container">
        <div class="col-12 columns">
            <div class="place">
                <a href="../index.html">首页</a>
                &raquo;
                
                网络安全
                
            </div>
        </div>
    </div>
</div>


<div class="container">
<div class="col-11 columns" id="mainbody">

<div class="post type-post" >
    <h2 class='loading-title' itemprop="name headline">
      <a itemtype="url" href="../PENETRATION/talk-about-3ds-userland-flaw.html" title="3DS userland漏洞那些事">3DS userland漏洞那些事</a>
    </h2>

    <div class="details-up">
  <span class="author">作者: phithon</span>
  
  <span class="category">分类: <a href="PENETRATION.html">网络安全</a></span>
  
  <span class="date">时间: 2023-6-10 1:48</span>
  <span class="comments-top" itemprop="interactionCount">评论：<a itemprop="discussionUrl" href="../PENETRATION/talk-about-3ds-userland-flaw.html#reply-list">0条评论</a></span>
  <span class="comments-top" itemprop="interactionCount">浏览：<a itemprop="discussionUrl" href="../PENETRATION/talk-about-3ds-userland-flaw.html">5047人看过</a></span>
  
  <span class="date">标签:
    
        <a href="../tag/%E7%A0%B4%E8%A7%A3.html">破解</a>
    
        <a href="../tag/3ds.html">3ds</a>
    
  </span>
  
</div>

    <div class="entry">
        
          <p>我与掌机结缘是从初中时代就开始了，但严格意义上来讲，在我的少年时代，我是没有拥有过掌机的。小时候家里没有给我买过任何游戏机，但我曾拥有过一台学习机——名人Windows CE。虽然被冠以“学习机”的名义，但实际上这是一台搭载Windows CE系统的掌上电脑（PDA），在2008年那个智能手机还没有出世的年代，我竟拥有了一台跨时代的智能大屏设备。</p>
<p>当时我在CE上装了很多原生的Windows游戏，也装了不少模拟器，包括GBA、NES等等，这些游戏陪初中的我度过了许多个日夜。当然，这些就是另一个故事了，以后有机会再讲。</p>
<p>就是因为这段经历，所以我对掌机游戏其实一直有爱好，所以大概在2015年我买了自己人生第一台掌机，就是新大三（New 3DSLL）。当时在电玩巴士淘宝店购买的，到手就是破解好的状态。但当时的我对3DS破解这块一窍不通，以至于一度不敢随便升级它的系统，忍受老系统一堆堆的Bug...</p>
        
    </div>
</div>

<div class="post type-post" >
    <h2 class='loading-title' itemprop="name headline">
      <a itemtype="url" href="https://www.leavesongs.com/PENETRATION/django-race-condition-defense.html" title="Django下防御Race Condition漏洞">Django下防御Race Condition漏洞</a>
    </h2>

    <div class="details-up">
  <span class="author">作者: phithon</span>
  
  <span class="category">分类: <a href="PENETRATION.html">网络安全</a></span>
  
  <span class="date">时间: 2023-3-19 23:54</span>
  <span class="comments-top" itemprop="interactionCount">评论：<a itemprop="discussionUrl" href="https://www.leavesongs.com/PENETRATION/django-race-condition-defense.html#reply-list">0条评论</a></span>
  <span class="comments-top" itemprop="interactionCount">浏览：<a itemprop="discussionUrl" href="https://www.leavesongs.com/PENETRATION/django-race-condition-defense.html">10228人看过</a></span>
  
  <span class="date">标签:
    
        <a href="../tag/%E6%9D%A1%E4%BB%B6%E7%AB%9E%E4%BA%89.html">条件竞争</a>
    
        <a href="../tag/django.html">django</a>
    
  </span>
  
</div>

    <div class="entry">
        
          这是一篇外部文章，点击 <a href="https://www.leavesongs.com/PENETRATION/django-race-condition-defense.html" target="_blank">链接跳转</a> 到文章地址……
        
    </div>
</div>

<div class="post type-post" >
    <h2 class='loading-title' itemprop="name headline">
      <a itemtype="url" href="../PENETRATION/flarum-rce-tour.html" title="从偶遇Flarum开始的RCE之旅">从偶遇Flarum开始的RCE之旅</a>
    </h2>

    <div class="details-up">
  <span class="author">作者: phithon</span>
  
  <span class="category">分类: <a href="PENETRATION.html">网络安全</a></span>
  
  <span class="date">时间: 2022-8-20 0:48</span>
  <span class="comments-top" itemprop="interactionCount">评论：<a itemprop="discussionUrl" href="../PENETRATION/flarum-rce-tour.html#reply-list">11条评论</a></span>
  <span class="comments-top" itemprop="interactionCount">浏览：<a itemprop="discussionUrl" href="../PENETRATION/flarum-rce-tour.html">28805人看过</a></span>
  
  <span class="date">标签:
    
        <a href="../tag/flarum.html">flarum</a>
    
        <a href="../tag/getshell.html">getshell</a>
    
  </span>
  
</div>

    <div class="entry">
        
          <blockquote>
<p>本文首发于<a href="https://tttang.com/archive/1714/" target="_blank">跳跳糖</a>，转载请联系站方。<br />
本次测试过程完全处于本地或授权环境，仅供学习与参考，不存在未授权测试过程，请读者勿使用该漏洞进行未授权测试，否则作者不承担任何责任</p>
</blockquote>
<p>一次日常测试中，偶然遇到了一个Flarum搭建的论坛，并获得了其管理员账号。本来到这里已经可以算完成了任务，将漏洞报给具体负责的人就结束了，但是既然已经拿到了管理员账号，何不尝试一下RCE呢？</p>
<p>首先，我在管理员后台看到当前Flarum版本是1.3，PHP版本是7.4。Flarum以前没有遇到过，于是问下师傅们有没有历史漏洞，没准就不用费事了：</p>
<p><a href="../media/attachment/2022/08/22/5179d621-44ea-40b2-932a-539b75fbf05b.png"><img alt="image.png" src="../media/attachment/2022/08/22/5179d621-44ea-40b2-932a-539b75fbf05b.fa1e66f19878.png" /></a></p>
<p>结果显然是没有，否则也不会有这篇文章了😂。</p>
<p><a href="https://github.com/flarum/flarum" target="_blank">Flarum</a>是一个PHP开源的论坛社区系统，以前有听说过，主要是国外用户较多，所以我也是出国以后才遇到。简单搜了下网上公开的漏洞，确实很少，而且以XSS和越权为主。</p>
<p>我对前后台进行了一系列观察，发现一个问题，这个论坛CMS默认的功...</p>
        
    </div>
</div>

<div class="post type-post" >
    <h2 class='loading-title' itemprop="name headline">
      <a itemtype="url" href="../PENETRATION/xss-from-my-blog.html" title="我自己博客的一个XSS的故事">我自己博客的一个XSS的故事</a>
    </h2>

    <div class="details-up">
  <span class="author">作者: phithon</span>
  
  <span class="category">分类: <a href="PENETRATION.html">网络安全</a></span>
  
  <span class="date">时间: 2022-6-19 3:17</span>
  <span class="comments-top" itemprop="interactionCount">评论：<a itemprop="discussionUrl" href="../PENETRATION/xss-from-my-blog.html#reply-list">36条评论</a></span>
  <span class="comments-top" itemprop="interactionCount">浏览：<a itemprop="discussionUrl" href="../PENETRATION/xss-from-my-blog.html">48245人看过</a></span>
  
  <span class="date">标签:
    
        <a href="../tag/DOMXSS.html">DOMXSS</a>
    
        <a href="../tag/xss.html">xss</a>
    
  </span>
  
</div>

    <div class="entry">
        
          <p>今天晚上收到几个提醒，打开一看是有人在我博客评论区测试XSS：</p>
<p><a href="../media/attachment/2022/06/19/15ef69f3-c60c-4b8e-9826-46690e54fafd.png"><img alt="image-20220619003454334-16555700950171.png" src="../media/attachment/2022/06/19/15ef69f3-c60c-4b8e-9826-46690e54fafd.4c15fcb8c7b9.png" /></a></p>
<p>本来这种测试司空见惯了，而且此人也没成功找到XSS，放以前我多半就关掉页面了。</p>
<p>不过我今晚不知为何临时起意，就顺势看了一下自己写的代码，居然被我自己找到一个XSS漏洞：</p>
<p><a href="../media/attachment/2022/06/19/ae138aa5-8acb-456f-9672-f823fed43700.png"><img alt="image-20220619003357418.png" src="../media/attachment/2022/06/19/ae138aa5-8acb-456f-9672-f823fed43700.a589111d5b2f.png" /></a></p>
<p>原因是什么呢？</p>
<h2 id="0x01"><a class="toclink" href="#0x01">0x01 开发历史介绍</a></h2>
<p>我当时在开发这个回复按钮的时候，为了方便，直接用JavaScript伪协议来调用<code>reply_to</code>函数，比如：</p>
<p><a href="../media/attachment/2022/06/19/dbba68a6-f9db-4464-9649-7f2d136ee48c.png"><img alt="image-20220619003805674.png" src="../media/attachment/2022/06/19/dbba68a6-f9db-4464-9649-7f2d136ee48c.a00ea07f4f19.png" /></a></p>
<p><code>reply_to</code>函数接受两个参数，一个是这条评论的id，第二个是这条评论的用户昵称。</p>
<p>当然，因为我的博客基于Django开发，所以默认在输出页面的时候会有HTML编码，这里不会直接逃逸出href属性的范围。</p>
<p>但其实如果只使用默认的HTML编码，在这个上下文中是不够的，会产生一个DOM型XSS，例如：</p>
<div class="codehilite"><pre><span></span><code><span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;javascript:console.log(&#39;&amp;#...</span></code></pre></div>
        
    </div>
</div>

<div class="post type-post" >
    <h2 class='loading-title' itemprop="name headline">
      <a itemtype="url" href="../PENETRATION/how-I-hack-bash-through-environment-injection.html" title="我是如何利用环境变量注入执行任意命令">我是如何利用环境变量注入执行任意命令</a>
    </h2>

    <div class="details-up">
  <span class="author">作者: phithon</span>
  
  <span class="category">分类: <a href="PENETRATION.html">网络安全</a></span>
  
  <span class="date">时间: 2022-2-20 3:47</span>
  <span class="comments-top" itemprop="interactionCount">评论：<a itemprop="discussionUrl" href="../PENETRATION/how-I-hack-bash-through-environment-injection.html#reply-list">5条评论</a></span>
  <span class="comments-top" itemprop="interactionCount">浏览：<a itemprop="discussionUrl" href="../PENETRATION/how-I-hack-bash-through-environment-injection.html">37575人看过</a></span>
  
  <span class="date">标签:
    
        <a href="../tag/dash.html">dash</a>
    
        <a href="../tag/bash.html">bash</a>
    
        <a href="../tag/%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E6%B3%A8%E5%85%A5.html">环境变量注入</a>
    
  </span>
  
</div>

    <div class="entry">
        
          <blockquote>
<p>本文发表于<a href="https://tttang.com/archive/1450/" target="_blank">跳跳糖</a>，转载请联系对方。</p>
</blockquote>
<p>这周三在『<a href="https://t.zsxq.com/66e2Nzj" target="_blank">代码审计知识星球</a>』中发了一段代码，用户可以控制环境变量，但后面没有太多可控的地方，最后找到了一处执行命令，不过命令用户也不可控。用PHP来演示一下就是下面这7行：</p>
<div class="codehilite"><pre><span></span><code><span class="o">&lt;?</span><span class="nx">php</span>
<span class="k">foreach</span><span class="p">(</span><span class="nv">$_REQUEST</span><span class="p">[</span><span class="s1">&#39;envs&#39;</span><span class="p">]</span> <span class="k">as</span> <span class="nv">$key</span> <span class="o">=&gt;</span> <span class="nv">$val</span><span class="p">)</span> <span class="p">{</span>
    <span class="nb">putenv</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{</span><span class="nv">$key</span><span class="si">}</span><span class="s2">=</span><span class="si">{</span><span class="nv">$val</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">);</span>
<span class="p">}</span>
<span class="c1">//... 一些其他代码</span>
<span class="nb">system</span><span class="p">(</span><span class="s1">&#39;echo hello&#39;</span><span class="p">);</span>
<span class="cp">?&gt;</span><span class="x"></span>
</code></pre></div>

<p>请问这段代码如何利用，是否可以getshell？</p>
<h2 id="0x01-ld_preload"><a class="toclink" href="#0x01-ld_preload">0x01 <code>LD_PRELOAD</code>之后的思考</a></h2>
<p>在有上传点（无需控制文件名）的情况下，这段代码其实比较简单了，可以直接用<code>LD_PRELOAD</code>搞定。上传一个文件名不限的so文件，如<code>hj.jpg</code>，可以通过<code>LD_PRELOAD=...</code></p>
        
    </div>
</div>

<div class="post type-post" >
    <h2 class='loading-title' itemprop="name headline">
      <a itemtype="url" href="../PENETRATION/goahead-en-injection-cve-2021-42342.html" title="GoAhead环境变量注入复现踩坑记">GoAhead环境变量注入复现踩坑记</a>
    </h2>

    <div class="details-up">
  <span class="author">作者: phithon</span>
  
  <span class="category">分类: <a href="PENETRATION.html">网络安全</a></span>
  
  <span class="date">时间: 2022-1-5 23:26</span>
  <span class="comments-top" itemprop="interactionCount">评论：<a itemprop="discussionUrl" href="../PENETRATION/goahead-en-injection-cve-2021-42342.html#reply-list">1条评论</a></span>
  <span class="comments-top" itemprop="interactionCount">浏览：<a itemprop="discussionUrl" href="../PENETRATION/goahead-en-injection-cve-2021-42342.html">37040人看过</a></span>
  
  <span class="date">标签:
    
        <a href="../tag/LD_PRELOAD.html">LD_PRELOAD</a>
    
        <a href="../tag/goahead.html">goahead</a>
    
  </span>
  
</div>

    <div class="entry">
        
          <p>昨天关注到了GoAhead的环境变量注入漏洞，主要是下面这两篇文章：</p>
<ul>
<li><a href="https://ahmed-belkahla.me/post/2-methods-rce-0-day-in-goahead-webserver-pbctf-2021/" target="_blank">PBCTF 2021 - RCE 0-Day in Goahead Webserver</a></li>
<li><a href="https://mp.weixin.qq.com/s/AS9DHeHtgqrgjTb2gzLJZg" target="_blank">CVE-2021-42342 GoAhead 远程命令执行漏洞深入分析与复现</a></li>
</ul>
<p>实际上已经是几个月前的漏洞了，但是因为这段时间漏洞管制比较严格，导致信息闭塞了不少，才进行了复现。</p>
<h2 id="_1"><a class="toclink" href="#_1">漏洞原理</a></h2>
<p>GoAhead曾经出现过一次环境变量注入漏洞，建议先看下Vulhub中相关的漏洞环境与描述：<a href="https://github.com/vulhub/vulhub/tree/master/goahead/CVE-2017-17562" target="_blank">GoAhead Web Server HTTPd 'LD_PRELOAD' Remote Code Execution (CVE-2017-17562)</a>。</p>
<p>这个老漏洞的原理也很简单，就是GoAhead在处理CGI请求时，将用户传入的的参数作为环境变量了。这样，通过<code>LD_PRELOAD</code>就可以劫持CGI进程的动态链接库，进而执行任意代码。</p>
<p>今天这个漏洞实...</p>
        
    </div>
</div>

<div class="post type-post" >
    <h2 class='loading-title' itemprop="name headline">
      <a itemtype="url" href="../PENETRATION/docker-php-include-getshell.html" title="Docker PHP裸文件本地包含综述">Docker PHP裸文件本地包含综述</a>
    </h2>

    <div class="details-up">
  <span class="author">作者: phithon</span>
  
  <span class="category">分类: <a href="PENETRATION.html">网络安全</a></span>
  
  <span class="date">时间: 2021-11-1 17:49</span>
  <span class="comments-top" itemprop="interactionCount">评论：<a itemprop="discussionUrl" href="../PENETRATION/docker-php-include-getshell.html#reply-list">8条评论</a></span>
  <span class="comments-top" itemprop="interactionCount">浏览：<a itemprop="discussionUrl" href="../PENETRATION/docker-php-include-getshell.html">54170人看过</a></span>
  
  <span class="date">标签:
    
        <a href="../tag/Docker.html">Docker</a>
    
        <a href="../tag/PHP%E5%AE%89%E5%85%A8.html">PHP安全</a>
    
  </span>
  
</div>

    <div class="entry">
        
          <blockquote>
<p>本文首发在<a href="https://tttang.com/archive/1312/" target="_blank">跳跳糖社区</a>。</p>
</blockquote>
<p>2018年『代码审计』星球举办的<a href="https://code-breaking.com/" target="_blank">Code-Breaking Puzzles</a>非常成功，后面我就一直想再做一次类似的活动。Code-Breaking属于极其偏向于trick分享的代码审计谜题，所以要求题目具有一定的独创性，最好是能用10行以内的代码片段，描述一个具有实战价值的场景。</p>
<p>大概在去年疫情在家办公那段时间，有个同学问过我一个问题，他遇到了一个PHP文件包含漏洞，但找不到利用方法，目标是跑在Docker里，也没找到太多可以利用的文件。我当时觉得这是老生常谈的问题了，就跟他讲了几个我已知的方法，但后来我自己下去研究的时候又发现了一种新方法，个人感觉还挺适合放到Code-Breaking里作为题目的，就暂放到题库里了。</p>
<p>没想到Code-Breaking一直难产到了2021年，直到十一期间我在研究Caddy相关的安全问题时，无意间看到一篇RCTF 2021的W...</p>
        
    </div>
</div>

<div class="post type-post" >
    <h2 class='loading-title' itemprop="name headline">
      <a itemtype="url" href="../PENETRATION/apache-mod-proxy-ssrf-cve-2021-40438.html" title="Apache mod_proxy SSRF（CVE-2021-40438）的一点分析和延伸">Apache mod_proxy SSRF（CVE-2021-40438）的一点分析和延伸</a>
    </h2>

    <div class="details-up">
  <span class="author">作者: phithon</span>
  
  <span class="category">分类: <a href="PENETRATION.html">网络安全</a></span>
  
  <span class="date">时间: 2021-10-18 10:05</span>
  <span class="comments-top" itemprop="interactionCount">评论：<a itemprop="discussionUrl" href="../PENETRATION/apache-mod-proxy-ssrf-cve-2021-40438.html#reply-list">1条评论</a></span>
  <span class="comments-top" itemprop="interactionCount">浏览：<a itemprop="discussionUrl" href="../PENETRATION/apache-mod-proxy-ssrf-cve-2021-40438.html">43709人看过</a></span>
  
  <span class="date">标签:
    
        <a href="../tag/mod_proxy.html">mod_proxy</a>
    
        <a href="../tag/ssrf%E6%BC%8F%E6%B4%9E.html">ssrf漏洞</a>
    
        <a href="../tag/apache.html">apache</a>
    
  </span>
  
</div>

    <div class="entry">
        
          <p>周五晚上开始学习Apache HTTP Server（后文简称为Apache）mod_proxy的SSRF漏洞（CVE-2021-40438），并在星球简单介绍了一下编译、调试Apache服务器的方法，今天继续深入分析一下这个漏洞的成因，以及一些延伸的问题研究。</p>
<p>我很久不发漏洞分析了，因为不是自己挖的漏洞，我自己的思考其实是不够的，再加上很多出漏洞的软件我都没用过，也更谈不上深入的理解，很容易落俗套变成流水账；另外这些年网友们也很积极，不缺我的一篇漏洞分析文章，所以我就写的少了。不过最近Apache HTTP Server出的几个漏洞，还是值得分析一下。</p>
<p>另外，阅读本文前，建议按照我在这两篇帖子里发的方式<a href="https://t.zsxq.com/RvfmEu3">https://t.zsxq.com/RvfmEu3</a>、<a href="https://t.zsxq.com/7qNfeie">https://t.zsxq.com/7qNfeie</a>下载好apr、apr-util、apache的源码并编译，便于后续调试以理解...</p>
        
    </div>
</div>

<div class="post type-post" >
    <h2 class='loading-title' itemprop="name headline">
      <a itemtype="url" href="../PENETRATION/cachet-from-laravel-sqli-to-bug-bounty.html" title="CVE-2021-39165: 从一个Laravel SQL注入漏洞开始的Bug Bounty之旅">CVE-2021-39165: 从一个Laravel SQL注入漏洞开始的Bug Bounty之旅</a>
    </h2>

    <div class="details-up">
  <span class="author">作者: phithon</span>
  
  <span class="category">分类: <a href="PENETRATION.html">网络安全</a></span>
  
  <span class="date">时间: 2021-8-30 10:21</span>
  <span class="comments-top" itemprop="interactionCount">评论：<a itemprop="discussionUrl" href="../PENETRATION/cachet-from-laravel-sqli-to-bug-bounty.html#reply-list">7条评论</a></span>
  <span class="comments-top" itemprop="interactionCount">浏览：<a itemprop="discussionUrl" href="../PENETRATION/cachet-from-laravel-sqli-to-bug-bounty.html">65727人看过</a></span>
  
  <span class="date">标签:
    
        <a href="../tag/BugBounty.html">BugBounty</a>
    
        <a href="../tag/Laravel.html">Laravel</a>
    
        <a href="../tag/SQL%E6%B3%A8%E5%85%A5%E6%BC%8F%E6%B4%9E.html">SQL注入漏洞</a>
    
  </span>
  
</div>

    <div class="entry">
        
          <blockquote>
<p>事先声明：本次测试过程完全处于本地或授权环境，仅供学习与参考，不存在未授权测试过程。本文提到的漏洞《<a href="https://github.com/fiveai/Cachet/security/advisories/GHSA-79mg-4w23-4fqc">Cachet SQL注入漏洞（CVE-2021-39165）</a>》已经修复，也请读者勿使用该漏洞进行未授权测试，否则作者不承担任何责任</p>
</blockquote>
<h2 id="0x01"><a class="toclink" href="#0x01">0x01 故事的起源</a></h2>
<p>一个百无聊赖的周日晚上，我在知识星球闲逛，发现有一个匿名用户一连向我提出了两个问题：</p>
<p><a href="../media/attachment/2021/08/29/ddc7617b-7ac3-4519-962b-fce7c81f9d50.png"><img alt="image-20210720025643830.png" src="../media/attachment/2021/08/29/ddc7617b-7ac3-4519-962b-fce7c81f9d50.c2e8d2f0e326.png" /></a></p>
<p>本来不是很想回答这两个问题，一是感觉比较基础，二是现在大部分人都卷Java去了，关注PHP的其实不多。不过我搜索了一下自己的星球，发现我的确没有讲过如何调试PHP代码，那么回答一下这个问题也未尝不可。</p>
<p>既然如此，我就打开自己常用的PHP IDE之一PHPStorm（另一款是VSCode），看了看硬盘里落满灰尘的PHP代码，要不就是几年前的版本要不就是没法做演示的非开源项目。如果要新写一篇教程，最好还是上网上找个新的CMS做演示。</p>
<p>于是我打开了G...</p>
        
    </div>
</div>

<div class="post type-post" >
    <h2 class='loading-title' itemprop="name headline">
      <a itemtype="url" href="../PENETRATION/a-tour-of-tui-editor-xss.html" title="一次对 Tui Editor XSS 的挖掘与分析">一次对 Tui Editor XSS 的挖掘与分析</a>
    </h2>

    <div class="details-up">
  <span class="author">作者: phithon</span>
  
  <span class="category">分类: <a href="PENETRATION.html">网络安全</a></span>
  
  <span class="date">时间: 2021-8-6 18:21</span>
  <span class="comments-top" itemprop="interactionCount">评论：<a itemprop="discussionUrl" href="../PENETRATION/a-tour-of-tui-editor-xss.html#reply-list">4条评论</a></span>
  <span class="comments-top" itemprop="interactionCount">浏览：<a itemprop="discussionUrl" href="../PENETRATION/a-tour-of-tui-editor-xss.html">43614人看过</a></span>
  
  <span class="date">标签:
    
        <a href="../tag/%E5%89%8D%E7%AB%AF%E5%AE%89%E5%85%A8.html">前端安全</a>
    
        <a href="../tag/xss.html">xss</a>
    
  </span>
  
</div>

    <div class="entry">
        
          <p><a href="https://github.com/nhn/tui.editor">TOAST Tui Editor</a>是一款富文本Markdown编辑器，用于给HTML表单提供Markdown和富文本编写支持。最近我们在工作中需要使用到它，相比于其他一些Markdown编辑器，它更新迭代较快，功能也比较强大。另外，它不但提供编辑器功能，也提供了渲染功能（Viewer），也就是说编辑和显示都可以使用Tui Editor搞定。</p>
<p>Tui Editor的Viewer功能使用方法很简单：</p>
<div class="codehilite"><pre><span></span><code><span class="k">import</span> <span class="nx">Viewer</span> <span class="k">from</span> <span class="s1">&#39;@toast-ui/editor/dist/toastui-editor-viewer&#39;</span><span class="p">;</span>
<span class="k">import</span> <span class="s1">&#39;@toast-ui/editor/dist/toastui-editor-viewer.css&#39;</span><span class="p">;</span>


<span class="kd">const</span> <span class="nx">viewer</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Viewer</span><span class="p">({</span>
    <span class="nx">el</span><span class="o">:</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelect...</span></code></pre></div>
        
    </div>
</div>

<div class="post type-post" >
    <h2 class='loading-title' itemprop="name headline">
      <a itemtype="url" href="https://www.leavesongs.com/PENETRATION/defcon-29-threefactooorx-writeup.html" title="JavaScript逆向调试记 —— defcon threefactooorx writeup">JavaScript逆向调试记 —— defcon threefactooorx writeup</a>
    </h2>

    <div class="details-up">
  <span class="author">作者: phithon</span>
  
  <span class="category">分类: <a href="PENETRATION.html">网络安全</a></span>
  
  <span class="date">时间: 2021-5-4 20:30</span>
  <span class="comments-top" itemprop="interactionCount">评论：<a itemprop="discussionUrl" href="https://www.leavesongs.com/PENETRATION/defcon-29-threefactooorx-writeup.html#reply-list">0条评论</a></span>
  <span class="comments-top" itemprop="interactionCount">浏览：<a itemprop="discussionUrl" href="https://www.leavesongs.com/PENETRATION/defcon-29-threefactooorx-writeup.html">28121人看过</a></span>
  
  <span class="date">标签:
    
        <a href="../tag/javascript.html">javascript</a>
    
        <a href="../tag/ctf.html">ctf</a>
    
  </span>
  
</div>

    <div class="entry">
        
          这是一篇外部文章，点击 <a href="https://www.leavesongs.com/PENETRATION/defcon-29-threefactooorx-writeup.html" target="_blank">链接跳转</a> 到文章地址……
        
    </div>
</div>

<div class="post type-post" >
    <h2 class='loading-title' itemprop="name headline">
      <a itemtype="url" href="../PENETRATION/commons-beanutils-without-commons-collections.html" title="CommonsBeanutils与无commons-collections的Shiro反序列化利用">CommonsBeanutils与无commons-collections的Shiro反序列化利用</a>
    </h2>

    <div class="details-up">
  <span class="author">作者: phithon</span>
  
  <span class="category">分类: <a href="PENETRATION.html">网络安全</a></span>
  
  <span class="date">时间: 2021-4-19 20:30</span>
  <span class="comments-top" itemprop="interactionCount">评论：<a itemprop="discussionUrl" href="../PENETRATION/commons-beanutils-without-commons-collections.html#reply-list">4条评论</a></span>
  <span class="comments-top" itemprop="interactionCount">浏览：<a itemprop="discussionUrl" href="../PENETRATION/commons-beanutils-without-commons-collections.html">65074人看过</a></span>
  
  <span class="date">标签:
    
        <a href="../tag/java%E5%AE%89%E5%85%A8.html">java安全</a>
    
  </span>
  
</div>

    <div class="entry">
        
          <blockquote>
<p>这是<a href="https://govuln.com/">代码审计知识星球</a>中Java安全漫谈的第十七篇文章。完整文章列表与相关代码请参考：<a href="https://github.com/phith0n/JavaThings">https://github.com/phith0n/JavaThings</a></p>
</blockquote>
<p>上一篇文章里，我们认识了<code>java.util.PriorityQueue</code>，它在Java中是一个优先队列，队列中每一个元素有自己的优先级。在反序列化这个对象时，为了保证队列顺序，会进行重排序的操作，而排序就涉及到大小比较，进而执行<code>java.util.Comparator</code>接口的<code>compare()</code>方法。</p>
<p>那么，我们是否还能找到其他可以利用的<code>java.util.Comparator</code>对象呢？</p>
<h2 id="apache-commons-beanutils"><a class="toclink" href="#apache-commons-beanutils">了解Apache Commons Beanutils</a></h2>
<p>Apache Commons Beanutils 是 Apache Commons 工具集下的另一个项目，它提供了对普通Java类对象（也称为JavaBean）的一些操作方法。</p>
<p>关于JavaB...</p>
        
    </div>
</div>

<div class="post type-post" >
    <h2 class='loading-title' itemprop="name headline">
      <a itemtype="url" href="../PENETRATION/the-collision-of-containers-and-the-cloud-pentesting-a-MinIO.html" title="CVE-2021-21287: 容器与云的碰撞——一次对MinIO的测试">CVE-2021-21287: 容器与云的碰撞——一次对MinIO的测试</a>
    </h2>

    <div class="details-up">
  <span class="author">作者: phithon</span>
  
  <span class="category">分类: <a href="PENETRATION.html">网络安全</a></span>
  
  <span class="date">时间: 2021-1-30 22:25</span>
  <span class="comments-top" itemprop="interactionCount">评论：<a itemprop="discussionUrl" href="../PENETRATION/the-collision-of-containers-and-the-cloud-pentesting-a-MinIO.html#reply-list">18条评论</a></span>
  <span class="comments-top" itemprop="interactionCount">浏览：<a itemprop="discussionUrl" href="../PENETRATION/the-collision-of-containers-and-the-cloud-pentesting-a-MinIO.html">67207人看过</a></span>
  
  <span class="date">标签:
    
        <a href="../tag/minio.html">minio</a>
    
        <a href="../tag/Go.html">Go</a>
    
        <a href="../tag/ssrf%E6%BC%8F%E6%B4%9E.html">ssrf漏洞</a>
    
  </span>
  
</div>

    <div class="entry">
        
          <blockquote>
<p>事先声明：本次测试过程完全处于本地或授权环境，仅供学习与参考，不存在未授权测试过程。本文提到的漏洞《<a href="https://github.com/minio/minio/security/advisories/GHSA-m4qq-5f7c-693q">MinIO未授权SSRF漏洞（CVE-2021-21287）</a>》已经修复，也请读者勿使用该漏洞进行未授权测试，否则作者不承担任何责任</p>
</blockquote>
<p>(<a href="../PENETRATION/the-collision-of-containers-and-the-cloud-pentesting-a-MinIO-EN.html">English edition</a>)</p>
<p>随着工作和生活中的一些环境逐渐往云端迁移，对象存储的需求也逐渐多了起来，<a href="https://min.io/">MinIO</a>就是一款支持部署在私有云的开源对象存储系统。MinIO完全兼容AWS S3的协议，也支持作为S3的网关，所以在全球被广泛使用，在Github上已有25k星星。</p>
<p>我平时会将一些数据部署在MinIO中，在CI、Dockerfile等地方进行使用。本周就遇到了一个环境，其中发现一个MinIO，其大概情况如下：</p>
<ul>
<li>MinIO运行在一个小型Docker集群（swarm）中</li>
<li>MinIO开放默认的9000端口，外部可以访问，地址为<code>http://192...</code></li></ul>
        
    </div>
</div>

<div class="post type-post" >
    <h2 class='loading-title' itemprop="name headline">
      <a itemtype="url" href="../PENETRATION/where-is-bcel-classloader.html" title="BCEL ClassLoader去哪了">BCEL ClassLoader去哪了</a>
    </h2>

    <div class="details-up">
  <span class="author">作者: phithon</span>
  
  <span class="category">分类: <a href="PENETRATION.html">网络安全</a></span>
  
  <span class="date">时间: 2020-10-26 11:48</span>
  <span class="comments-top" itemprop="interactionCount">评论：<a itemprop="discussionUrl" href="../PENETRATION/where-is-bcel-classloader.html#reply-list">5条评论</a></span>
  <span class="comments-top" itemprop="interactionCount">浏览：<a itemprop="discussionUrl" href="../PENETRATION/where-is-bcel-classloader.html">66044人看过</a></span>
  
  <span class="date">标签:
    
        <a href="../tag/bcel.html">bcel</a>
    
        <a href="../tag/java%E5%AE%89%E5%85%A8.html">java安全</a>
    
  </span>
  
</div>

    <div class="entry">
        
          <p><code>com.sun.org.apache.bcel.internal.util.ClassLoader</code>是常常在构造漏洞利用POC时用到的类。但是，我前几天在写《<a href="https://github.com/phith0n/JavaThings">Java安全漫谈</a>》的时候，偶然发现我环境中的<code>com.sun.org.apache.bcel.internal.util.ClassLoader</code>类找不到了，本文就带大家来找找BCEL ClassLoader。</p>
<h2 id="0x01-bcel"><a class="toclink" href="#0x01-bcel">0x01 BCEL从哪里来</a></h2>
<p>首先，BCEL究竟是什么？它为什么会出现在JDK中？</p>
<p>BCEL的全名应该是Apache Commons BCEL，属于Apache Commons项目下的一个子项目。Apache Commons大家应该不陌生，反序列化最著名的利用链就是出自于其另一个子项目——Apache Commons Collections。</p>
<p>BCEL库提供了一系列用于分析、创建、修改Java Class文件的API。</p>
<p>就这个库...</p>
        
    </div>
</div>

<div class="post type-post" >
    <h2 class='loading-title' itemprop="name headline">
      <a itemtype="url" href="https://www.leavesongs.com/PENETRATION/diy-commons-collections6-poc.html" title="手工编写简化版CommonsCollections6，带你实现Java8全版本反序列化利用">手工编写简化版CommonsCollections6，带你实现Java8全版本反序列化利用</a>
    </h2>

    <div class="details-up">
  <span class="author">作者: phithon</span>
  
  <span class="category">分类: <a href="PENETRATION.html">网络安全</a></span>
  
  <span class="date">时间: 2020-7-24 22:21</span>
  <span class="comments-top" itemprop="interactionCount">评论：<a itemprop="discussionUrl" href="https://www.leavesongs.com/PENETRATION/diy-commons-collections6-poc.html#reply-list">0条评论</a></span>
  <span class="comments-top" itemprop="interactionCount">浏览：<a itemprop="discussionUrl" href="https://www.leavesongs.com/PENETRATION/diy-commons-collections6-poc.html">28964人看过</a></span>
  
  <span class="date">标签:
    
        <a href="../tag/java%E5%AE%89%E5%85%A8.html">java安全</a>
    
        <a href="../tag/%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E6%BC%8F%E6%B4%9E.html">反序列化漏洞</a>
    
  </span>
  
</div>

    <div class="entry">
        
          这是一篇外部文章，点击 <a href="https://www.leavesongs.com/PENETRATION/diy-commons-collections6-poc.html" target="_blank">链接跳转</a> 到文章地址……
        
    </div>
</div>


<div class="type-post" id="pagination"><ol class="page-navigator">
    
</ol></div>

</div>




<div  class="col-5 columns" id="sidebar" role="complementary">

  <div class="widget widget_search">
    <h3>搜索</h3>
    <form action="https://www.leavesongs.com/search/" id="searchform" method="get">
        <input type="text" id="searchkey" name="keyword" value="" class="searchkey" placeholder="Search..."/>
        <button type="submit"  id="searchsubmit">Go</button>
    </form>
  </div>

  
  <div class="widget">
	<h3 class="widget-title">最新评论</h3>
	<ul class="widget-list" id="recent-comment">
    
    
        <li id="comment" class="clearfix">
            <img class="avatar" src="../static/placeholder.jpg" alt="%s" width="40" height="40">
            <div class="comments-link"><cite>木木</cite>：<a href="../THINK/europe-trip-2022.html#comment-4523">虽然物价对比不出什么，但是还是觉得很高昂</a></div>
        </li>
    
        <li id="comment" class="clearfix">
            <img class="avatar" src="../static/placeholder.jpg" alt="%s" width="40" height="40">
            <div class="comments-link"><cite>dongdong4fei</cite>：<a href="../THINK/using-chatgpt-for-antispam.html#comment-4520">肯德基疯狂星期四！ 疯狂星期四！  https://m.kfc.com.cn/wechatco...</a></div>
        </li>
    
        <li id="comment" class="clearfix">
            <img class="avatar" src="../static/placeholder.jpg" alt="%s" width="40" height="40">
            <div class="comments-link"><cite>dongdong4fei</cite>：<a href="../THINK/using-chatgpt-for-antispam.html#comment-4519">小猪咪小猪咪小猪咪</a></div>
        </li>
    
        <li id="comment" class="clearfix">
            <img class="avatar" src="../static/placeholder.jpg" alt="%s" width="40" height="40">
            <div class="comments-link"><cite>sam</cite>：<a href="../PENETRATION/javascript-prototype-pollution-attack.html#comment-4518">还得是P神，文章一看就懂</a></div>
        </li>
    
        <li id="comment" class="clearfix">
            <img class="avatar" src="../static/placeholder.jpg" alt="%s" width="40" height="40">
            <div class="comments-link"><cite>程序</cite>：<a href="../PENETRATION/discuz72-sql-injection.html#comment-4517">很不错的文章</a></div>
        </li>
    
    </ul>
  </div>

  <div class="widget widget-category">
	<h3>分类</h3>
	<ul id="blogsort" class="widget-list">
    
    
    <li>
        <a href="PENETRATION.html">网络安全<em>143</em></a>
    </li>
    
    <li>
        <a href="C.html">C/C++<em>32</em></a>
    </li>
    
    <li>
        <a href="THINK.html">心得与体会<em>24</em></a>
    </li>
    
    <li>
        <a href="PYTHON.html">Python<em>19</em></a>
    </li>
    
    <li>
        <a href="SHARE.html">资源分享<em>16</em></a>
    </li>
    
    </ul>
  </div>

  <div class="widget widget-tag">
	<h3>随机标签</h3>
	<div class="tag-cloud">
        
        
        <a rel="tag" href="../tag/%E4%BA%8C%E6%89%8B%E5%95%86%E5%93%81.html">二手商品</a>
        
        <a rel="tag" href="../tag/%E7%9F%A5%E4%B9%8E.html">知乎</a>
        
        <a rel="tag" href="../tag/sqlite_bind.html">sqlite_bind</a>
        
        <a rel="tag" href="../tag/flashxss.html">flashxss</a>
        
        <a rel="tag" href="../tag/%E7%BB%87%E6%A2%A6.html">织梦</a>
        
        <a rel="tag" href="../tag/Go.html">Go</a>
        
        <a rel="tag" href="../tag/Docker.html">Docker</a>
        
        <a rel="tag" href="../tag/%E5%85%BC%E5%AE%B9%E6%80%A7.html">兼容性</a>
        
        <a rel="tag" href="../tag/Linux.html">Linux</a>
        
        <a rel="tag" href="../tag/php-fpm.html">php-fpm</a>
        
        <a rel="tag" href="../tag/goahead.html">goahead</a>
        
        <a rel="tag" href="../tag/%E6%9D%A1%E4%BB%B6%E7%AB%9E%E4%BA%89.html">条件竞争</a>
        
        <a rel="tag" href="../tag/emlog%E6%8F%92%E4%BB%B6.html">emlog插件</a>
        
        <a rel="tag" href="../tag/%E5%9B%A2%E9%98%9F.html">团队</a>
        
        <a rel="tag" href="../tag/%E8%87%AA%E5%AE%9A%E4%B9%89%E8%B5%84%E6%BA%90.html">自定义资源</a>
        
        <a rel="tag" href="../tag/joomla.html">joomla</a>
        
        <a rel="tag" href="../tag/%E6%B1%89%E5%8C%96.html">汉化</a>
        
        <a rel="tag" href="../tag/%E9%93%BE%E8%A1%A8.html">链表</a>
        
        <a rel="tag" href="../tag/%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E6%B3%A8%E5%85%A5.html">环境变量注入</a>
        
        <a rel="tag" href="../tag/%E5%A4%9A%E7%BA%BF%E7%A8%8B.html">多线程</a>
        
        <a rel="tag" href="../tag/%E4%B8%8A%E7%BD%91.html">上网</a>
        
        <a rel="tag" href="../tag/wopus.html">wopus</a>
        
        <a rel="tag" href="../tag/%E8%BF%9B%E5%88%B6%E8%BD%AC%E6%8D%A2.html">进制转换</a>
        
        <a rel="tag" href="../tag/audit.html">audit</a>
        
        <a rel="tag" href="../tag/htaccess.html">htaccess</a>
        
        <a rel="tag" href="../tag/%E5%BC%80%E6%BA%90%E9%A1%B9%E7%9B%AE.html">开源项目</a>
        
        <a rel="tag" href="../tag/scrapy.html">scrapy</a>
        
        <a rel="tag" href="../tag/yxcms.html">yxcms</a>
        
        <a rel="tag" href="../tag/%E7%AD%94%E6%A1%88.html">答案</a>
        
        <a rel="tag" href="../tag/tea.html">tea</a>
        
    </div>
  </div>

  <div class="widget widget-recent-entries">
	<h3 class="widget-title">热门日志</h3>
	<ul id="hotlog" class="widget-list">
    
    
        <li><a href="../other/tinger.html">About.Me</a></li>
    
        <li><a href="../PENETRATION/detect-django.html">如何判断目标站点是否为Django开发</a></li>
    
        <li><a href="../PENETRATION/webshell-without-alphanum-advanced.html">无字母数字webshell之提高篇</a></li>
    
        <li><a href="../PENETRATION/webshell-without-alphanum.html">一些不包含数字和字母的webshell</a></li>
    
        <li><a href="../PENETRATION/php-filter-magic.html">谈一谈php://filter的妙用</a></li>
    
    </ul>
  </div>
  

</div>
</div>

<div id="footer">
	<!-- copyright -->
	<div class="container">
		<div class="row remove-bottom">
			<div class="col-6 columns">
			<h3>Little About</h3>
			<p>Phithon 非强迫症小青年  <br>
现居先 <br>
爱好：种花、买书、收藏明信片 <br>
欢迎各大组织收留 <br>
E-mail：root@leavesongs.com </p>
			</div>

			<div class="col-10 columns">

				<h3 class="mobile-hide">Follow me</h3>
        <div id="social-links">
          <a href="http://weibo.com/101yx" class="sweibo" target="_blank" title="新浪微博">新浪微博</a>
          <a href="javascript:alert(/没有腾讯微博哟/)" class="qweibo" target="_blank" title="腾讯微博">腾讯微博</a>
          <a href="javascript:alert(/墙外有什么/);window.open('http://google.com')" class="google" target="_blank" title="墙外的世界">google+</a>
          <a href="https://github.com/phith0n" class="github" target="_blank" title="Github">github</a>
          <a href="javascript:confirm(/mailto:root#leavesongs.com/)" class="mail" target="_blank" title="私信给我">私信给我</a>
          <a href="../feed/index.rss" target="_blank" class="rss" title="离别歌">RSS订阅</a>
        </div>
        <div class="bot-line"></div>
				<p class="copyright">
	Copyright &copy; Powered by talkbook
				&nbsp;&nbsp;<i>Designed and built with all the love in the world by <a href="../index.html" target="_blank">Phithon</a> && deepsky </i>
                    <a href="../index.html">更换模板</a>
				</p>
			</div>
		</div>
	</div>
	<!-- /copyright -->
</div>
<a href="#" id="go-top">Top ↑</a>
<script src="https://cdn.staticfile.org/jquery/1.12.4/jquery.min.js"></script>
<script src="https://cdn.staticfile.org/jquery.appear/0.4.1/jquery.appear.min.js"></script>
<script src="../static/deep/js/common_tpl.js" type="text/javascript"></script>
<script src="../static/deep/js/config.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-FF5KPQ1CZ6"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-FF5KPQ1CZ6');
</script>

</body>

</html>